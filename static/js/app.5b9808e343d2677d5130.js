"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[524],{867:(e,t,s)=>{var r=s(747),n=s(119),a=s(187),l=s(22),c=s(11),o=s(530),i=s(284),d=s(895),u=s(336);const h=async()=>{const e=`/cs-reading-whitelist/data/link-list.json?${Date.now()}`;return(await fetch(e)).json()},p=function*(){try{const e=yield(0,d.T1)(h);yield(0,d.yJ)(u.x.actions.fetchSuccess(e.data))}catch(e){e instanceof Error&&(yield(0,d.yJ)(u.x.actions.fetchFailure(e)))}},x=function*(){yield(0,d.p8)(u.x.actions.fetchStart.type,p)},m=function*(){yield(0,d.Q7)([(0,d.T1)(x)])};var f=s(188);const j="deE56uBxLpDdWEMR5o1P";var N=s(923);class g extends r.Component{static getDerivedStateFromError(e){return{error:e}}state={error:null};render(){return this.state.error?(0,N.jsx)("p",{className:j,children:"Something went wrong in React app:("}):this.props.children}}var v=s(944),E=s(108),y=s(868);const C="MRk1jMJQrUliPsKbN918",w="GuG5n249YtFKxeD7JTrO _2qsXrGSla5Oyhac1dBHU",O="vU5U0u7M_SVHkE3py5qG BT4pkluQgYyuho2E9pp1",P=[{legend:"GitHub",url:"https://github.com/yialo/cs-reading-whitelist"},{legend:"Twitter",url:"https://twitter.com/xarroalex"},{legend:"CodeSandbox",url:"https://codesandbox.io/u/yialo/sandboxes"},{legend:"CodePen",url:"https://codepen.io/yialo/pens/public?grid_type=list"}],k=()=>(0,N.jsx)("footer",{className:C,children:(0,N.jsx)("ul",{className:O,children:P.map(((e,t)=>{let{legend:s,url:r}=e;return(0,N.jsx)("li",{children:(0,N.jsx)("a",{className:w,href:r,children:s})},t)}))})});var S=s(564),b=s(238);const A="XJuN53MTwvlmPH9hk0MY",L=e=>{let{className:t}=e;const s=(0,f.PD)(),r=(0,f.fD)();return(0,N.jsx)(f.O6,{className:(0,y.cn)(A,t),"aria-label":"Режим тёмной темы","aria-pressed":s,onClick:r,children:"Go "+(s?"light":"dark")})},R="i4Nk6p4lwT5YP1iPUZJY",D="fJ_IcJvPrGaiHeE21dpr",M="DV5hsaO1ZCxFvcV5xUxQ",I="PVF1YRrQC21TUhbLdsOg BT4pkluQgYyuho2E9pp1",T="xOgqMbfPzp8nNvaYrE15",U="yd8O__02OIR09bXabyi2",H=(0,N.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),z=(0,N.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),F=e=>{let{isExpanded:t}=e;return(0,N.jsxs)("svg",{"aria-hidden":"true",className:M,viewBox:"0 0 24 24",width:"100%",height:"100%",children:[(0,N.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),t?H:z]})},G=[{url:a.a$.HOME,label:"Reading"}],V=e=>{let{className:t}=e;const[s,n]=r.useState(!1);return r.useEffect((()=>{const e=e=>{e.key===a.au.ESCAPE&&n(!1)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[]),(0,N.jsxs)("nav",{className:(0,y.cn)(R,t,{isCollapsedScreenSm:!s}),children:[(0,N.jsx)("button",{"aria-haspopup":"listbox","aria-expanded":s,"aria-label":"Меню",className:D,type:"button",onClick:()=>{n((e=>!e))},children:(0,N.jsx)(F,{isExpanded:s})}),(0,N.jsx)("ul",{className:I,children:G.map((e=>{let{url:t,label:s}=e;return(0,N.jsx)("li",{children:(0,N.jsx)(c.k2,{className:e=>{let{isActive:t}=e;return(0,y.cn)(T,{[U]:t})},to:t,end:!0,onClick:()=>{n(!1)},children:s})},s)}))})]})},B="OWSKlLEmQamFRjDAF1fa",_="HjwMlnQIhuqoAj4gevvy",J="DpThcpwrwd6q9zUx5OHe",Q="RP5bAxwSOlVjr1Tzrk7J",q="iiyrIxar2gOcdSYOWUty",K="Vb2D8jC1FtXU80dCLNW0",W="qcIqNfA123_zDKxVMFpP",Y=40,Z=60,$=()=>document.querySelector(a.nr.APP_ROOT),X=e=>{let{className:t}=e;const[s,n]=r.useState(!1),[a,l]=r.useState(Y),c=(0,f.PD)(),o=r.useRef(document.createElement("div"));r.useEffect((()=>{const e=o.current;return document.body.appendChild(e),()=>{document.body.removeChild(e)}}),[]),r.useEffect((()=>{const e=$();if(!(e instanceof HTMLDivElement))return;const t=(0,S.A)((()=>{const t=e.scrollTop>100;n(t);const s=e.scrollHeight-(e.scrollTop+e.offsetHeight)<Z;l(s?Z:Y)}),25);return e.addEventListener("scroll",t),()=>{t.cancel(),e.removeEventListener("scroll",t)}}),[]);return(0,N.jsxs)("header",{className:(0,y.cn)(B,{[_]:s},t),children:[(0,N.jsx)(V,{}),(0,N.jsx)(L,{className:J}),(()=>{const e=(0,N.jsx)("div",{className:Q,style:{paddingBlockEnd:a},children:(0,N.jsx)(f.$n,{"aria-label":"Вернуться наверх",className:(0,y.cn)(q,{[W]:c,[K]:s}),disabled:!s,onClick:()=>{$()?.scrollTo({top:0})}})});return(0,b.createPortal)(e,o.current)})()]})},ee="zJWgMIANVPxCHALEzFyC",te="xtRtCnxkTVJin7lC8Fgd",se=()=>(0,N.jsxs)(f.Od,{children:[(0,N.jsx)("h1",{className:ee,children:"Error 404"}),(0,N.jsx)("p",{className:te,children:"Page not found"})]}),re=r.lazy((()=>s.e(454).then(s.bind(s,62)))),ne=()=>(0,N.jsx)(r.Suspense,{fallback:(0,N.jsx)(f.Z,{}),children:(0,N.jsxs)(v.BV,{children:[(0,N.jsx)(v.qh,{path:a.a$.HOME,element:(0,N.jsx)(re,{})}),(0,N.jsx)(v.qh,{path:"*",element:(0,N.jsx)(se,{})})]})}),ae="eBfYoMUW6aZI0HeiClei",le="IhUN0L7uhHwVlGtMCqOA",ce=()=>{const{pathname:e}=(0,v.zy)(),t=(0,E.Z)(e),s=(0,f.PD)();return r.useEffect((()=>{const e=document.getElementById("page-overlay");e?.remove()}),[]),r.useEffect((()=>{const s=document.getElementById(a.nr.APP_ROOT);s&&e!==t&&s.scrollTo({top:0})}),[e,t]),(0,N.jsxs)("div",{className:(0,y.cn)(ae,{hasDarkTheme:s}),children:[(0,N.jsx)(X,{className:le}),(0,N.jsx)(ne,{}),(0,N.jsx)(k,{})]})},oe=(()=>{const e=(0,i.Ay)(),t=(0,o.U1)({reducer:{[u.x.reducerPath]:u.x.reducer},devTools:"production"!==a.Qy.PROD,middleware:t=>t({thunk:!1}).concat(e)});return e.run(m),t})(),ie=()=>(0,N.jsx)(g,{children:(0,N.jsx)(l.Kq,{store:oe,children:(0,N.jsx)(c.I9,{children:(0,N.jsx)(f.NP,{children:(0,N.jsx)(ce,{})})})})});(()=>{const e=document.getElementById(a.nr.APP_ROOT);if(!e)return;const t=n.H(e),s=(0,N.jsx)(r.StrictMode,{children:(0,N.jsx)(ie,{})});t.render(s)})()},189:(e,t,s)=>{s.d(t,{Lw:()=>r,hz:()=>a,x1:()=>n});const r=10,n={CAPTION:"caption",HASHTAG:"hashtag",URL:"url"},a={NEW:"new",OLD:"old"}},336:(e,t,s)=>{s.d(t,{x:()=>N});var r=s(910),n=s(530),a=s(187);const l=(()=>{let e=1;return t=>{const s=t.trim(),r=s?`${s}_`:"",n=`(s${e})`;return e+=1,`${r}${n}`}})();var c=s(189);const o={error:null,list:[],process:"IDLE",searchString:"",page:1,filter:c.x1.CAPTION,sorting:c.hz.NEW},i=e=>e.filter,d=e=>e.searchString,u=e=>e.sorting,h=e=>e.page,p=(0,r.Mz)([e=>e.list,d,i],((e,t,s)=>{const r=t.toLowerCase();return""===r?e:e.filter((e=>{switch(s){case c.x1.CAPTION:return e.caption.toLowerCase().includes(r)||e.series?.some((e=>e.caption.toLowerCase().includes(r)));case c.x1.HASHTAG:return!!e.tags?.some((e=>e.toLowerCase().includes(r)))||e.series?.some((e=>e.tags?.some((e=>e.toLowerCase().includes(r)))));case c.x1.URL:{const t=e.url?.toLowerCase().includes(r);return t||e.series?.some((e=>e.url.toLowerCase().includes(r)))}default:return!0}}))})),x=(0,r.Mz)([p,u,h],((e,t)=>t===c.hz.NEW?[...e].reverse():e)),m=(0,r.Mz)([x],(e=>e.length)),f=(0,r.Mz)([x,h],((e,t)=>{const s=t*c.Lw;return e.slice(0,s)})),j=(0,r.Mz)([m,h],((e,t)=>t===Math.ceil(e/c.Lw))),N=(0,n.Z0)({name:l("linkList"),initialState:o,reducers:{fetchStart:e=>{e.process!==a.AM.LOADING&&(e.process=a.AM.LOADING,e.error=null)},fetchSuccess:(e,t)=>{let{payload:s}=t;e.process===a.AM.LOADING&&(e.process=a.AM.SUCCESS,e.list=s)},fetchFailure:(e,t)=>{let{payload:s}=t;e.process===a.AM.LOADING&&(e.process=a.AM.FAILURE,e.list=[],e.error=s)},search:(e,t)=>{let{payload:s}=t;e.page=1,e.searchString=s},toggleFilter:(e,t)=>{let{payload:s}=t;e.page=1,e.filter=s},toggleSorting:(e,t)=>{let{payload:s}=t;e.sorting=s},getNextPage:e=>{e.page+=1}},selectors:{error:e=>e.error,filter:i,filteredList:p,isLastPage:j,page:h,process:e=>e.process,searchString:d,sortedAmount:m,sorting:u,visibleList:f}})},187:(e,t,s)=>{s.d(t,{AM:()=>a,Qy:()=>r,a$:()=>l,au:()=>n,nr:()=>c});const r={DEV:"development",PROD:"production"},n={ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",UP:"ArrowUp",DOWN:"ArrowDown"},a={IDLE:"IDLE",LOADING:"LOADING",SUCCESS:"SUCCESS",FAILURE:"FAILURE"},l={HOME:"/"},c={APP_ROOT:"app-root"}},108:(e,t,s)=>{s.d(t,{Z:()=>n,U:()=>a});var r=s(747);const n=e=>{const t=r.useRef();return r.useEffect((()=>{t.current=e}),[e]),t.current},a=(e,t)=>{const s=r.useContext(e);if(void 0===s)throw new Error(`Hook must be used within a ${e.displayName||t||"Context"}.Provider`);return s}},868:(e,t,s)=>{s.d(t,{cn:()=>r});const r=s(750).$},188:(e,t,s)=>{s.d(t,{$n:()=>i,O6:()=>d,Od:()=>h,Z:()=>x,l6:()=>O,ks:()=>M,NP:()=>F,PD:()=>G,fD:()=>V});var r=s(747),n=s(868);const a="SrGhNmTX3M6MBBOBZ1Bp",l="pBd4exPAl9C0pI2OoDfm";var c=s(923);const o=e=>{let{children:t,className:s,forwardedRef:r,type:l="button",...o}=e;return(0,c.jsx)("button",{ref:r,className:(0,n.cn)(a,s),type:l,...o,children:t})},i=r.forwardRef(((e,t)=>(0,c.jsx)(o,{...e,forwardedRef:t})));i.displayName="ForwardRef(Button)";const d=e=>{let{className:t,...s}=e;return(0,c.jsx)(i,{className:(0,n.cn)(l,t),...s})},u="goJXhA3NDPld_GV3nQTK",h=e=>{let{children:t}=e;return(0,c.jsx)("main",{className:u,children:t})},p="yy_O4CeQtO5kXWJcwVpV",x=e=>{let{className:t}=e;return(0,c.jsx)("div",{className:(0,n.cn)(p,t),role:"status",children:(0,c.jsx)("span",{className:"Spinner","aria-label":"Пожалуйста, подождите..."})})};var m=s(187);const f="_9guJTgBtPHwbkwGw3L1u",j="daeYoCM501wjz1eO9ojA",N="s1GJYrf4lgIR8gPwp2Dn",g="iQDnkERUIgKV0qm4_Ax1 SBhQiK8wead9Rp56dvQE",v="vHMqDju0l2_g5MFXulo4",E="F6B3wijP9mr5YguR_Jqb BT4pkluQgYyuho2E9pp1",y="Z47Xj4oaxvk57Vfo3aaf",C="qbeUUIOkkmWOVTZWREbx SBhQiK8wead9Rp56dvQE",w="_1jK_fmcwivDGa3CSljk",O=e=>{let{className:t,dict:s,tip:a,value:l,onChange:o}=e;const[d,u]=r.useState(!1),h=r.useRef(null),p=r.useId(),x=r.useId();r.useEffect((()=>{const e=e=>{h.current&&e.target instanceof Node&&!h.current.contains(e.target)&&u(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]);const O=r.useMemo((()=>Object.entries(s)),[s]);return(0,c.jsxs)("div",{className:(0,n.cn)(f,t),children:[(0,c.jsx)("span",{className:j,id:p,children:a}),(0,c.jsxs)("div",{className:N,children:[(0,c.jsx)(i,{ref:h,className:(0,n.cn)(g,{[v]:d}),id:x,"aria-expanded":d,"aria-haspopup":"listbox","aria-labelledby":[p,x].join(" "),onClick:()=>{u((e=>!e))},onKeyDown:e=>{let{key:t}=e;if(!d&&t===m.au.DOWN)return void u(!0);if(t===m.au.ESCAPE)return void u(!1);let s=0;if(t===m.au.DOWN?s=1:t===m.au.UP&&(s=-1),!s)return;const r=O.findIndex((e=>e[0]===l)),n=O[r+s]?.[0];n&&o(n)},children:s[l]}),d&&(0,c.jsx)("ul",{className:E,role:"listbox",children:O.map((e=>{let[t,s]=e;const r=t===l;return(0,c.jsx)("li",{className:y,role:"option","aria-selected":r,children:(0,c.jsx)(i,{className:(0,n.cn)(C,{[w]:r}),onClick:()=>{u(!1),o(t),h.current?.focus()},onKeyDown:e=>{e.key===m.au.ESCAPE&&u(!1)},children:s})},t)}))})]})]})},P="aztl4ufV0_UmuIRfaRZv",k="Mp0LlT69tD4yZO3TqPyy",S="eKhjhjTdVjG6L07eJKPP",b="hb09vdWNzrj3AYI89RFh",A="FtblGVLQCHq9vdAIpp2g",L="ubKwu6GK5fuFi6zstVL9 uNvJb9CzCe5ek5y95NoR",R="KuvR3OkatmUjFJ7csPH0 uNvJb9CzCe5ek5y95NoR",D=e=>{let{className:t,forwardedRef:s,inputMode:r,legend:a,tipChar:l,value:o,onChange:d}=e;const u=!!l,h=""!==o;return(0,c.jsxs)("div",{className:(0,n.cn)(P,t),children:[u&&(0,c.jsx)("span",{className:L,"aria-hidden":"true",children:l}),(0,c.jsx)("label",{className:k,"aria-label":a,children:(0,c.jsx)("input",{ref:s,className:(0,n.cn)(S,{[b]:u,[A]:h}),inputMode:r,type:"text",value:o,onChange:e=>{d(e.target.value)}})}),h&&(0,c.jsx)(i,{"aria-label":"Очистить поле ввода",className:R,onClick:()=>{d(""),s&&"function"!=typeof s&&s.current?.focus()}})]})},M=r.forwardRef(((e,t)=>(0,c.jsx)(D,{...e,forwardedRef:t})));M.displayName="ForwardRef(TextInput)";var I=s(108);const T=r.createContext(void 0);T.displayName="ThemeStateContext";const U=r.createContext(void 0);U.displayName="ThemeUpdaterContext";const H="ui-theme",z=()=>{const e=localStorage.getItem(H);return"light"===(t=e)||"dark"===t?e:"light";var t},F=e=>{let{children:t}=e;const[s,n]=r.useState(z);return(0,c.jsx)(T.Provider,{value:s,children:(0,c.jsx)(U.Provider,{value:n,children:t})})},G=()=>{const e=(0,I.U)(T);return r.useEffect((()=>{localStorage.setItem(H,e)}),[e]),"dark"===e},V=()=>{const e=(0,I.U)(U);return r.useCallback((()=>{e((e=>"dark"===e?"light":"dark"))}),[e])}}},e=>{e.O(0,[524],(()=>{e.E(454)}),5);e.O(0,[644,96],(()=>{return t=867,e(e.s=t);var t}));e.O()}]);