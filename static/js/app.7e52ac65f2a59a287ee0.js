"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[143],{5312:(e,s,t)=>{t.d(s,{Yf:()=>r,dM:()=>n,ln:()=>a});const r={ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",UP:"ArrowUp",DOWN:"ArrowDown"},n={IDLE:"IDLE",LOADING:"LOADING",SUCCESS:"SUCCESS",FAILURE:"FAILURE"},a={HOME:"/"}},6517:(e,s,t)=>{var r=t(8669),n=t(5167),a=t(8776),l=t(7516),c=t(6785),o=t(7379),i=(t(2933),t(4370)),d=t(1705),u=t(7183);const h=async()=>{const e=`/cs-reading-whitelist/data/link-list.json?${Date.now()}`;return(await fetch(e)).json()},p=function*(){try{const e=yield(0,d.RE)(h);yield(0,d.gz)({type:u.K.FETCH_SUCCESS,payload:e.data})}catch(e){yield(0,d.gz)({type:u.K.FETCH_FAILURE,payload:e})}},m=function*(){yield(0,d.Fm)(u.K.FETCH_START,p)};var x=t(5312),E=t(1455);const f={error:null,list:[],process:"IDLE",searchString:"",page:1,filter:E.g.CAPTION,sorting:E.F.NEW},C=(0,o.UY)({links:(e,s)=>{const t=e??f;switch(s.type){case u.K.FETCH_START:return t.process===x.dM.LOADING?t:{...t,process:x.dM.LOADING,error:null};case u.K.FETCH_SUCCESS:return t.process!==x.dM.LOADING?t:{...t,list:s.payload,process:x.dM.SUCCESS};case u.K.FETCH_FAILURE:return t.process!==x.dM.LOADING?t:{...t,list:[],process:x.dM.FAILURE,error:s.payload};case u.K.SEARCH:return{...t,page:1,searchString:s.payload};case u.K.FILTER:return{...t,filter:s.payload,page:1};case u.K.SORTING:return{...t,sorting:s.payload};case u.K.NEXT_PAGE:return{...t,page:t.page+1};default:return t}}}),j=function*(){yield(0,d.$6)([(0,d.RE)(m)])};var g=t(7095);const N="oRpolsCNwGidd_ojH7HX";var v=t(2880);class y extends r.Component{constructor(){super(...arguments),(0,g.Z)(this,"state",{error:null})}static getDerivedStateFromError(e){return{error:e}}render(){return this.state.error?(0,v.jsx)("p",{className:N,children:"Something went wrong in React app:("}):this.props.children}}var S=t(7353),T=t(6334);const w="SyGFlcuggAB7QPCRoqZs",A="ywAOVWo80_FySYmsAWoc TTwZQh8ZRgEekxufKSIX",L="LHjEzWsk2_yABEtFRFKg eLMys6WuT5CYHEs4A5ez",H=[{legend:"GitHub",url:"https://github.com/yialo/cs-reading-whitelist"},{legend:"Twitter",url:"https://twitter.com/xarroalex"},{legend:"CodeSandbox",url:"https://codesandbox.io/u/yialo/sandboxes"},{legend:"CodePen",url:"https://codepen.io/yialo/pens/public?grid_type=list"}],b=()=>(0,v.jsx)("footer",{className:w,children:(0,v.jsx)("ul",{className:L,children:H.map(((e,s)=>{let{legend:t,url:r}=e;return(0,v.jsx)("li",{children:(0,v.jsx)("a",{className:A,href:r,children:t})},s)}))})});var k=t(1713),M=t.n(k),R=t(3805);const Z="FuZAJWm0p_XRVCCKxque",I="biE9MK39rWyD3zmn3otn",D="pYvtAtB3n2rMUGdU_iNX",F="xDve1PcFIxaZSAbxjqFP eLMys6WuT5CYHEs4A5ez",O="V35Z8T2LHNTH2EE544Kg",P="TpTLypoFCGGVcDEZ5poc",U=(0,v.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),G=(0,v.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),z=e=>{let{isExpanded:s}=e;return(0,v.jsxs)("svg",{"aria-hidden":"true",className:D,viewBox:"0 0 24 24",width:"100%",height:"100%",children:[(0,v.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),s?U:G]})},K=[{url:x.ln.HOME,label:"Reading"}],_=e=>{let{className:s}=e;const[t,n]=r.useState(!1);return r.useEffect((()=>{const e=e=>{e.key===x.Yf.ESCAPE&&n(!1)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[]),(0,v.jsxs)("nav",{className:(0,S.Z)(Z,s,{isCollapsedScreenSm:!t}),children:[(0,v.jsx)("button",{"aria-haspopup":"listbox","aria-expanded":t,"aria-label":"Меню",className:I,type:"button",onClick:()=>{n((e=>!e))},children:(0,v.jsx)(z,{isExpanded:t})}),(0,v.jsx)("ul",{className:F,children:K.map((e=>{let{url:s,label:t}=e;return(0,v.jsx)("li",{children:(0,v.jsx)(l.OL,{className:e=>{let{isActive:s}=e;return(0,S.Z)(O,{[P]:s})},to:s,end:!0,onClick:()=>{n(!1)},children:t})},t)}))})]})},W="aovNtUtKUAYMZwrd9dt9",Y=e=>{let{className:s}=e;const t=(0,c.kZ)(),r=(0,c.M1)();return(0,v.jsx)(c.c7,{className:(0,S.Z)(W,s),"aria-label":"Режим тёмной темы","aria-pressed":t,onClick:r,children:"Go "+(t?"light":"dark")})},X="lzgjeOVrw5k3yOIMzOjr",q="FOWFMQisV4WJqDYI1EMJ",B="iof4QD6damo_b8psC2t0",J="pdaCzphvWa6CfxC3uYbL",V="c3619S5WRyt58w84yP6F",Q="RHvCARLmzHivsASlEhPf",$="UsZkcK9p6Fo9AU4qQllf",ee=40,se=60,te=document.querySelector(".Page-Root"),re=e=>{let{className:s}=e;const[t,n]=r.useState(!1),[a,l]=r.useState(ee),o=(0,c.kZ)(),i=r.useRef(document.createElement("div"));r.useEffect((()=>{const e=i.current;return document.body.appendChild(e),()=>{document.body.removeChild(e)}}),[]),r.useEffect((()=>{if(!(te instanceof HTMLDivElement))return;const e=M()((()=>{const e=te.scrollTop>100;n(e);const s=te.scrollHeight-(te.scrollTop+te.offsetHeight)<se;l(s?se:ee)}),25);return te.addEventListener("scroll",e),()=>{e.cancel(),te.removeEventListener("scroll",e)}}),[]);return(0,v.jsxs)("header",{className:(0,S.Z)(X,{[q]:t},s),children:[(0,v.jsx)(_,{}),(0,v.jsx)(Y,{className:B}),(()=>{const e=(0,v.jsx)("div",{className:J,style:{paddingBlockEnd:a},children:(0,v.jsx)(c.zx,{"aria-label":"Вернуться наверх",className:(0,S.Z)(V,{[$]:o,[Q]:t}),disabled:!t,onClick:()=>{te?.scrollTo({top:0})}})});return(0,R.createPortal)(e,i.current)})()]})},ne=r.lazy((()=>Promise.all([t.e(216),t.e(639)]).then(t.bind(t,1e3)))),ae="CUBxVY7Uzw2M9AEjwSn1",le="LBWwfj8dqxJAA8G0z_kM",ce=()=>(0,v.jsxs)(c.Zn,{children:[(0,v.jsx)("h1",{className:ae,children:"Error 404"}),(0,v.jsx)("p",{className:le,children:"Page not found"})]}),oe=()=>(0,v.jsx)(r.Suspense,{fallback:(0,v.jsx)(c.p9,{}),children:(0,v.jsxs)(T.Z5,{children:[(0,v.jsx)(T.AW,{path:x.ln.HOME,element:(0,v.jsx)(ne,{})}),(0,v.jsx)(T.AW,{path:"*",element:(0,v.jsx)(ce,{})})]})}),ie="wh4rgcrMnUBZ4YjxDHqI",de="wcZkILowlMZvHTFt_8gq",ue=document.querySelector(".Page-Root"),he=()=>{const{pathname:e}=(0,T.TH)(),s=(e=>{const s=r.useRef();return r.useEffect((()=>{s.current=e})),s.current})(e),t=(0,c.kZ)();return r.useEffect((()=>{(()=>{const e=document.getElementById("overlay");e?.remove()})()}),[]),r.useEffect((()=>{ue&&e!==s&&ue.scrollTo({top:0})}),[e,s]),(0,v.jsxs)("div",{className:(0,S.Z)(ie,{hasDarkTheme:t}),children:[(0,v.jsx)(re,{className:de}),(0,v.jsx)(oe,{}),(0,v.jsx)(b,{})]})},pe=(()=>{const e=(0,i.ZP)(),s=(0,o.md)(e),t=(0,o.MT)(C,s);return e.run(j),t})(),me=()=>(0,v.jsx)(y,{children:(0,v.jsx)(a.zt,{store:pe,children:(0,v.jsx)(l.UT,{children:(0,v.jsx)(c.f6,{children:(0,v.jsx)(he,{})})})})});(()=>{const e=document.getElementById("app-root");if(!e)return;const s=n.s(e),t=(0,v.jsx)(r.StrictMode,{children:(0,v.jsx)(me,{})});s.render(t)})()},7183:(e,s,t)=>{t.d(s,{K:()=>r});const r={FETCH_START:"@link-list/fetch-start",FETCH_SUCCESS:"@link-list/fetch-complete",FETCH_FAILURE:"@link-list/fetch-error",SEARCH:"@link-list/search",FILTER:"@link-list/filter-toggle",SORTING:"@link-list/sorting-toggle",NEXT_PAGE:"@link-list/next-page"}},1455:(e,s,t)=>{t.d(s,{F:()=>n,g:()=>r});const r={CAPTION:"caption",HASHTAG:"hashtag",URL:"url"},n={NEW:"new",OLD:"old"}},6785:(e,s,t)=>{t.d(s,{zx:()=>i,c7:()=>d,Zn:()=>h,p9:()=>m,Ph:()=>w,oi:()=>I,f6:()=>U,kZ:()=>G,M1:()=>z});var r=t(8669),n=t(7353);const a="nTF9b5XMyHAs2zrA2dcR",l="b35_estiD16VocUmclr4";var c=t(2880);const o=e=>{let{children:s,className:t,forwardedRef:r,type:l="button",...o}=e;return(0,c.jsx)("button",{ref:r,className:(0,n.Z)(a,t),type:l,...o,children:s})},i=r.forwardRef(((e,s)=>(0,c.jsx)(o,{...e,forwardedRef:s})));i.displayName="Button";const d=e=>{let{className:s,...t}=e;return(0,c.jsx)(i,{className:(0,n.Z)(l,s),...t})},u="PKCRpABTIyi7LlbTv8Gm",h=e=>{let{children:s}=e;return(0,c.jsx)("main",{className:u,children:s})},p="EdHNhEXe6Q9rvJSicH7L",m=e=>{let{className:s}=e;return(0,c.jsx)("div",{className:(0,n.Z)(p,s),role:"status",children:(0,c.jsx)("span",{className:"Spinner","aria-label":"Пожалуйста, подождите..."})})};var x=t(5312);const E="XKGKRohtDLhDUURf4_HT",f="SvFfujD9ocM5xZGnMHOA",C="rC4laxbp8Xyhfs17waV7",j="rLkc2sTjHaC0OTXChCuo Ls_tnE15sMb2JLdwC3hT",g="ihQqzyfVVSijKwFKv3Ag",N="U4sNYDZafTW62p0Ch9oG eLMys6WuT5CYHEs4A5ez",v="X3ZcfmGCLHJSHEhEqNDU",y="KfozHMZmc2LDT1rYXxvL Ls_tnE15sMb2JLdwC3hT",S="Qc0XCis_TLiqp0IGslAf",T="filter-toggle-button",w=e=>{let{className:s,dict:t,tip:a,tipIdPrefix:l,value:o,onChange:d}=e;const[u,h]=r.useState(!1),p="select-tip"+(l?`-${l}`:""),m=r.useRef(null);r.useEffect((()=>{const e=e=>{m.current&&!m.current.contains(e.target)&&h(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]);const w=r.useMemo((()=>Object.entries(t)),[t]);return(0,c.jsxs)("div",{className:(0,n.Z)(E,s),children:[(0,c.jsx)("span",{className:f,id:p,children:a}),(0,c.jsxs)("div",{className:C,children:[(0,c.jsx)(i,{ref:m,className:(0,n.Z)(j,{[g]:u}),id:T,"aria-expanded":u,"aria-haspopup":"listbox","aria-labelledby":`${p} ${T}`,onClick:()=>{h((e=>!e))},onKeyDown:e=>{let{key:s}=e;if(!u&&s===x.Yf.DOWN)return void h(!0);if(s===x.Yf.ESCAPE)return void h(!1);let t=0;if(s===x.Yf.DOWN?t=1:s===x.Yf.UP&&(t=-1),!t)return;const r=w.findIndex((e=>e[0]===o)),n=w[r+t]?.[0];n&&d(n)},children:t[o]}),u&&(0,c.jsx)("ul",{className:N,role:"listbox",children:w.map((e=>{let[s,t]=e;const r=s===o;return(0,c.jsx)("li",{className:v,role:"option","aria-selected":r,children:(0,c.jsx)(i,{className:(0,n.Z)(y,{[S]:r}),onClick:()=>{h(!1),d(s),m.current?.focus()},onKeyDown:e=>{e.key===x.Yf.ESCAPE&&h(!1)},children:t})},s)}))})]})]})},A="dCAqYjgMSXrzvHIKPyHr",L="oZacwd45TOQEh356zlWt",H="yaO9Hfxx8w0BDyx7fLMs",b="UPAsHNSxMcX92OSdLImi",k="VNJDBgWcEDEOgikOjCf_",M="DGt1s4oJhhttuu7J7aso gwBp66PJsmOnbqnwZGXd",R="N5y12t_hPsM6b2rirfIQ gwBp66PJsmOnbqnwZGXd",Z=e=>{let{className:s,forwardedRef:t,inputMode:r,legend:a,tipChar:l,value:o,onChange:d}=e;const u=!!l,h=""!==o;return(0,c.jsxs)("div",{className:(0,n.Z)(A,s),children:[u&&(0,c.jsx)("span",{className:M,"aria-hidden":"true",children:l}),(0,c.jsx)("label",{className:L,"aria-label":a,children:(0,c.jsx)("input",{ref:t,className:(0,n.Z)(H,{[b]:u,[k]:h}),inputMode:r,type:"text",value:o,onChange:e=>{d(e.target.value)}})}),h&&(0,c.jsx)(i,{"aria-label":"Очистить поле ввода",className:R,onClick:()=>{d(""),t&&"function"!=typeof t&&t.current?.focus()}})]})},I=r.forwardRef(((e,s)=>(0,c.jsx)(Z,{...e,forwardedRef:s})));I.displayName="TextInput";t(1781);const D=r.createContext(void 0),F=r.createContext(void 0),O="ui-theme",P=()=>{let e;try{e=window.localStorage.getItem(O),e||(e="light")}catch{e="light"}return e},U=e=>{let{children:s}=e;const[t,n]=r.useState(P);return(0,c.jsx)(D.Provider,{value:t,children:(0,c.jsx)(F.Provider,{value:n,children:s})})},G=()=>{const e=r.useContext(D);if(void 0===e)throw new Error("useThemeState must be used within a ThemeProvider");return r.useEffect((()=>{window.localStorage.setItem(O,e)}),[e]),"dark"===e},z=()=>{const e=r.useContext(F);if(void 0===e)throw new Error("useThemeToggle must be used within a ThemeProvider");return r.useCallback((()=>{e((e=>"dark"===e?"light":"dark"))}),[e])}}},e=>{e.O(0,[143],(()=>{e.E(216),e.E(639)}),5);e.O(0,[514,216],(()=>{return s=6517,e(e.s=s);var s}));e.O()}]);