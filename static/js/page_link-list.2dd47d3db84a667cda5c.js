"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[639],{5974:(e,a,t)=>{t.r(a),t.d(a,{default:()=>de});var s=t(8669),l=t(7788),n=t(2218),r=t(8040),c=t(2912);t(1696),t(2764);var i=t(1503);const o={error:e=>e.fetch.error,fullList:e=>e.fetch.list,isComplete:e=>e.fetch.isComplete},m={filterName:e=>e.list.filterName,page:e=>e.list.page,searchString:e=>e.list.searchString,sortingName:e=>e.list.sortingName},d=(0,i.P1)([o.fullList,m.searchString,m.filterName],((e,a,t)=>{const s=a.toLowerCase();return""===s?e:e.filter((e=>{switch(t){case r.sd.CAPTION:var a;return e.caption.toLowerCase().includes(s)||(null===(a=e.series)||void 0===a?void 0:a.some((e=>e.caption.toLowerCase().includes(s))));case r.sd.HASHTAG:var l;return e.tags.some((e=>e.toLowerCase().includes(s)))||(null===(l=e.series)||void 0===l?void 0:l.some((e=>{var a;return null===(a=e.tags)||void 0===a?void 0:a.some((e=>e.toLowerCase().includes(s)))})));case r.sd.URL:var n,c;return(null===(n=e.url)||void 0===n?void 0:n.toLowerCase().includes(s))||(null===(c=e.series)||void 0===c?void 0:c.some((e=>e.url.toLowerCase().includes(s))));default:return!0}}))})),u=(0,i.P1)([d,m.sortingName,m.page],((e,a)=>a===r.ae.NEW?[...e].reverse():e)),g=(0,i.P1)([u],(e=>e.length)),E=(0,i.P1)([u,m.page],((e,a)=>{const t=a*r.v9;return e.slice(0,t)})),N=(0,i.P1)([g,m.page],((e,a)=>a===Math.ceil(e/r.v9)));var p=t(4238),v=t.n(p),h=t(3907);const f="tN_nBc6j3Hld_Z69v37z",k="W_H_pJ6_370z2o6F8MXX",b="MFjvmJ5LO1kGCaAW9k3g",_="qzPEogtU1pZzT8twljYt bLIK_NUkHz7_Az_ZJ_xw",T="xWpLIKY6PLjxFx9QxFCZ",S="KVI88ozQxFgSG8EzvnyH OJjhdV41Pg9leaeRdkAF",y="EOY6QNS5fUI737hYE41A",A="_1wW7xMPhhznA6G_EgN5 bLIK_NUkHz7_Az_ZJ_xw",C="YizNyudY4fZbzIy0V2LS",L="filter-toggle-button",w=({className:e,dict:a,tip:t,tipIdPrefix:l,value:n,onChange:c})=>{const[i,o]=(0,s.useState)(!1),m="select-tip"+(l?`-${l}`:""),d=(0,s.useRef)(null);return(0,s.useEffect)((()=>{const e=()=>{o((e=>e&&!e))},a=a=>{a.key===r.Ge.ESCAPE&&e()},t=a=>{a.target!==d.current&&e()};return document.addEventListener("keydown",a),document.addEventListener("click",t),()=>{document.removeEventListener("keydown",a),document.removeEventListener("click",t)}}),[]),s.createElement("div",{className:v()(f,e)},s.createElement("span",{className:k,id:m},t),s.createElement("div",{className:b},s.createElement(h.z,{ref:d,className:v()(_,{[T]:i}),id:L,"aria-haspopup":"listbox","aria-labelledby":`${m} ${L}`,onClick:()=>{o((e=>!e))}},a[n]),i&&s.createElement("ul",{className:S,role:"listbox"},Object.entries(a).map((([e,a])=>{const t=e===n;return s.createElement("li",{key:e,className:y,role:"option","aria-selected":t},s.createElement(h.z,{className:v()(A,{[C]:t}),onClick:()=>{o(!1),c(e)}},a))})))))};var I=t(6780);const j={root:"hM9u5ii8btq1NxQPOed4",label:"hq6kB7raw_K8h3rH7owK",field:"XRb7SkIqpTsjE2AJegd4",field_adjacent:"PpF9Zqy3oIAI9ZCrmCXZ XRb7SkIqpTsjE2AJegd4",tipChar:"dK6aoHIW1AKMEGhTXeWD"},R=({className:e,forwardedRef:a,inputMode:t,legend:l,tipChar:n,value:r,onChange:c})=>{const i=!!n;return s.createElement("div",{className:v()(j.root,e)},i&&s.createElement("span",{className:j.tipChar,"aria-hidden":"true"},n),s.createElement("label",{className:j.label,"aria-label":l},s.createElement("input",{ref:a,className:j[i?"field_adjacent":"field"],inputMode:t,type:"text",value:r,onChange:c})))},P=(0,s.forwardRef)(((e,a)=>s.createElement(R,(0,I.Z)({},e,{forwardedRef:a}))));P.displayName="TextInput";const F="tdD9H0UinizH7TorJzGS",H="erKwAX8B7GDvMRpAj1g8",x="rv20tslokxb_a12po7fa WBrhM_I_km51qHQDsRwX",M="ElCsPyutsyIguMXHGagy",O="KetFdbUqBgL76IfJW7t9 WBrhM_I_km51qHQDsRwX",z="WDjnYm_rgR0Kc3IPyMkq",B="Kc7rAnM2Ui44CXFWPz7s",G="_RbZd9jIoMgbBgfB8XSk",W=({totalAmount:e,visibleAmount:a,isFiltered:t})=>{const l=a===e;return s.createElement("p",{className:H},l?`Всего ${e}, показаны все${t?" совпадения":""}`:`Показано: ${a} из ${e}${t?" совпадений":""}`)};W.displayName="ControlBar-AmountMeter";const K={[r.sd.CAPTION]:"заголовку",[r.sd.HASHTAG]:"хэштегу",[r.sd.URL]:"URL-адресу"},U={[r.ae.NEW]:"новые",[r.ae.OLD]:"старые"},Z="sorting-group-label",J=e=>{switch(e){case r.sd.HASHTAG:return"#";case r.sd.URL:return"://";default:return}},D=({className:e,filterTarget:a,searchString:t,sortingTarget:l,totalAmount:n,visibleAmount:r,onFilterToggle:c,onSearch:i,onSortingToggle:o})=>{const m=(0,s.useRef)(null);return(0,s.useEffect)((()=>{var e;null===(e=m.current)||void 0===e||e.focus()}),[]),s.createElement("div",{className:v()(F,e)},s.createElement("div",{className:x},s.createElement(w,{className:e,tip:"Искать по:",dict:K,value:a,onChange:c})),s.createElement(P,{ref:m,className:M,inputMode:"search",legend:"Введите текст для поиска",tipChar:J(a),value:t,onChange:i}),s.createElement("div",{className:O},s.createElement("span",{className:z,id:Z},"Сортировка:"),s.createElement("div",{className:B,"aria-labelledby":Z,role:"radiogroup"},Object.entries(U).map((([e,a])=>{const t=e===l;return s.createElement(h.z,{key:e,className:G,disabled:t,"aria-checked":t,role:"radio",onClick:()=>{o(e)}},`Сначала ${a}`)})))),s.createElement(W,{isFiltered:""!==t,totalAmount:n,visibleAmount:r}))};var q=t(9049);const Q={root_series:"_ON3ecsHFe1W26TufB5z",langBadge:"ZD8WdoN3SYr07TlQ4gku",langBadge_en:"z1kRwnKoIWYi1Nj5Mn8i ZD8WdoN3SYr07TlQ4gku",langBadge_ru:"qtV41RKVPw45HlNFlg08 ZD8WdoN3SYr07TlQ4gku",legend:"UTSE6BgqSXoTJy2Q34TB",link:"_uhSmLR4g5V9SdQHoNO3 zdyIkvOtH1pIk9zcfSHW",seriesButton:"R69NG_T2ZlqbWNk7cZTe",isExpanded:"FhfHokxmaGU2SYE02xUI",seriesList:"sE7o1flJUxYEPfgkxQ9Y OJjhdV41Pg9leaeRdkAF",seriesItem:"B6K8yQXemVKwKJhPdTCl",tag:"zNT8sy_KV5vRkrOARcTE",tags:"ZZ7OWeRA6ehU_PhHfZuM OJjhdV41Pg9leaeRdkAF"},X=({lang:e="",legend:a="",tags:t=[]})=>s.createElement(s.Fragment,null,Boolean(e)&&s.createElement(s.Fragment,null," ",s.createElement("span",{className:v()(Q[`langBadge_${e}`])},e)),t.length>0&&s.createElement("ul",{className:Q.tags},t.map(((e,a)=>e?s.createElement("li",{className:Q.tag,key:a},` #${e}`):null))),Boolean(a)&&s.createElement("span",{className:Q.legend},` ‒ ${a}`));X.displayName="SubjectsItem-Appendix";const V=({caption:e,lang:a,url:t})=>s.createElement("a",{className:Q.link,href:t,hrefLang:a,lang:a},e);V.displayName="SubjectsItem-Link";const Y=[r.Ge.ENTER,r.Ge.SPACE],$=({className:e,subject:a})=>{const{caption:t,lang:n,legend:r,series:c,tags:i}=a,o=!!(0,l.v9)(m.searchString),[d,u]=(0,s.useState)({isExpanded:!1}),g=(0,s.useRef)(!0),E=g.current?o:d.isExpanded,N=()=>{g.current?u({isExpanded:!o}):u((e=>({isExpanded:!e.isExpanded}))),g.current&&(g.current=!1)};return s.createElement("li",{className:v()(Q.root_series,e,{[Q.isExpanded]:E})},s.createElement("div",{className:Q.series},s.createElement("span",{className:Q.seriesButton,role:"button","aria-expanded":E,onClick:N,onKeyDown:e=>{Y.includes(e.key)&&N()},tabIndex:0},t),s.createElement(X,{lang:n,legend:r,tags:i})),E&&s.createElement("ul",{className:Q.seriesList},c.map((({caption:e,lang:a,tags:t,legend:l,url:r})=>s.createElement("li",{key:r,className:Q.seriesItem},s.createElement(V,{caption:e,lang:n,url:r}),s.createElement(X,{lang:a,legend:l,tags:t}))))))};$.displayName="SubjectsItem_series";const ee=({className:e,subject:a})=>{const{caption:t,lang:l,legend:n,tags:r,url:c}=a;return s.createElement("li",{className:e},s.createElement(V,{caption:t,lang:l,url:c}),s.createElement(X,{lang:l,legend:n,tags:r}))};ee.displayName="SubjectsItem_single";const ae=e=>{const a=e.subject.caption;return t=e.subject,Boolean(t.series)?s.createElement($,{key:a,className:e.className,subject:e.subject}):s.createElement(ee,{key:a,className:e.className,subject:e.subject});var t},te={root:"_wQv_rJRwIhxnNUeKWfT",button:"ePLAvEATOv0MqufLuf_b",fallbackMessage:"_3Cg9APipayLHi3f3_Gd",list:"G_AzUu_jt1NF2j0kiNnw OJjhdV41Pg9leaeRdkAF",item:"DO1DAFD1nKTwtW0Jef9M",item_last:"_63HbRrMRU4OJQHmyZcC DO1DAFD1nKTwtW0Jef9M"},se=({message:e})=>s.createElement("p",{className:te.fallbackMessage},e);se.displayName="Subjects-FallbackMessage";const le=({className:e,list:a,hasFetchError:t,isLastPage:l,onShowMoreClick:n})=>t?s.createElement(se,{message:"Ошибка загрузки"}):a.length?s.createElement("div",{className:v()(te.root,e)},s.createElement("ul",{className:te.list},a.map(((e,a,t)=>ae({className:te[a===t.length-1?"item_last":"item"],subject:e})))),!l&&s.createElement(q.c,{className:te.button,onClick:n},"Показать ещё")):s.createElement(se,{message:"Ничего не найдено"}),ne="_fA7uhG_LIndBCWES3Sf lIyP3eFZmzqgn_02yn7c",re="_Aib1NL9ZpBh2Vo7xu_i",ce="TSHGsfuqPtDOFhLGi7R5",ie="AVj_hejKAamsYkhh2UTv JOBANdkXX4PUlm_Ty3QT",oe="jNSozAm0QDBqVCQPESV0",me="TnC71VTqKMy7BTJWmbUX",de=()=>{const e=(0,l.v9)(o.error),a=(0,l.v9)(m.filterName),t=(0,l.v9)(m.page),i=(0,l.v9)(m.searchString),d=(0,l.v9)(g),u=(0,l.v9)(m.sortingName),p=(0,l.v9)(E),v=(0,l.v9)(o.isComplete),h=(0,l.v9)(N),f=(0,l.I0)(),k=h?d:r.v9*t;return(0,s.useEffect)((()=>{f((async e=>{const a=`/cs-reading-whitelist/data/subjects.json?${Date.now()}`;try{const t=await window.fetch(a),{data:s}=await t.json();e({type:c.a.FETCH.COMPLETE,payload:s})}catch(a){e({type:c.a.FETCH.ERROR,payload:a})}}))}),[f]),s.createElement("main",{className:ne},s.createElement("div",{className:re},s.createElement("h1",{className:ie},"Полезные материалы по Computer Science")),v?s.createElement(s.Fragment,null,s.createElement(D,{className:ce,filterTarget:a,searchString:i,sortingTarget:u,totalAmount:d,visibleAmount:k,onFilterToggle:e=>{f((e=>({type:c.a.LIST.FILTER_TOGGLE,payload:e}))(e))},onSearch:e=>{var a;f((a=e.target.value,{type:c.a.LIST.SEARCH,payload:a}))},onSortingToggle:e=>{f((e=>({type:c.a.LIST.SORTING_TOGGLE,payload:e}))(e))}}),s.createElement(le,{className:oe,list:p,hasFetchError:!!e,isLastPage:h,onShowMoreClick:()=>{f({type:c.a.LIST.NEXT_PAGE})}})):s.createElement(n.p,{className:me}))}}}]);