"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[524],{867:(e,s,t)=>{var r=t(747),n=t(119),a=t(187),c=t(22),l=t(11),o=t(530),i=t(284),d=t(895),u=t(336);const h=async()=>{const e=`/cs-reading-whitelist/data/link-list.json?${Date.now()}`;return(await fetch(e)).json()},m=function*(){try{const e=yield(0,d.T1)(h);yield(0,d.yJ)(u.x.actions.fetchSuccess(e.data))}catch(e){e instanceof Error&&(yield(0,d.yJ)(u.x.actions.fetchFailure(e)))}},p=function*(){yield(0,d.p8)(u.x.actions.fetchStart.type,m)},x=function*(){yield(0,d.Q7)([(0,d.T1)(p)])};var f=t(188);const j="RPpwKmY6hl4Ixp_l6GMt";var g=t(923);class N extends r.Component{static getDerivedStateFromError(e){return{error:e}}state={error:null};render(){return this.state.error?(0,g.jsx)("p",{className:j,children:"Something went wrong in React app:("}):this.props.children}}var v=t(944),C=t(108),E=t(868);const y="tA8xfQogZTb7q74dXD8O",A="G96GyXgtE2inY78qnx8g CoHCmRSjV8UxfTt5hXJc",w="JJ6FN020AULZlY8EDesi YdHRiGj9HjP3DCBou8hA",L=[{legend:"GitHub",url:"https://github.com/yialo/cs-reading-whitelist"},{legend:"Twitter",url:"https://twitter.com/xarroalex"},{legend:"CodeSandbox",url:"https://codesandbox.io/u/yialo/sandboxes"},{legend:"CodePen",url:"https://codepen.io/yialo/pens/public?grid_type=list"}],S=()=>(0,g.jsx)("footer",{className:y,children:(0,g.jsx)("ul",{className:w,children:L.map(((e,s)=>{let{legend:t,url:r}=e;return(0,g.jsx)("li",{children:(0,g.jsx)("a",{className:A,href:r,children:t})},s)}))})});var D=t(564),b=t(238);const P="IZngkMABSukfyWEDU0Fo",H=e=>{let{className:s}=e;const t=(0,f.PD)(),r=(0,f.fD)();return(0,g.jsx)(f.O6,{className:(0,E.cn)(P,s),"aria-label":"Режим тёмной темы","aria-pressed":t,onClick:r,children:"Go "+(t?"light":"dark")})},O="ZHTwXbaL1wwaHgAXFZJy",T="ICiWehXMYpfEVHIjy60S",M="L5ewMThTaf9sydxhla3l",k="HZyHAp8vojLPioclC7SN YdHRiGj9HjP3DCBou8hA",I="fKbFmfED4QTDTx9VdLVn",R="BZ9_JfHXfBCDNCms0xAT",U=(0,g.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),z=(0,g.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),G=e=>{let{isExpanded:s}=e;return(0,g.jsxs)("svg",{"aria-hidden":"true",className:M,viewBox:"0 0 24 24",width:"100%",height:"100%",children:[(0,g.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),s?U:z]})},B=[{url:a.a$.HOME,label:"Reading"}],J=e=>{let{className:s}=e;const[t,n]=r.useState(!1);return r.useEffect((()=>{const e=e=>{e.key===a.au.ESCAPE&&n(!1)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[]),(0,g.jsxs)("nav",{className:(0,E.cn)(O,s,{isCollapsedScreenSm:!t}),children:[(0,g.jsx)("button",{"aria-haspopup":"listbox","aria-expanded":t,"aria-label":"Меню",className:T,type:"button",onClick:()=>{n((e=>!e))},children:(0,g.jsx)(G,{isExpanded:t})}),(0,g.jsx)("ul",{className:k,children:B.map((e=>{let{url:s,label:t}=e;return(0,g.jsx)("li",{children:(0,g.jsx)(l.k2,{className:e=>{let{isActive:s}=e;return(0,E.cn)(I,{[R]:s})},to:s,end:!0,onClick:()=>{n(!1)},children:t})},t)}))})]})},F="uL2OJr2SIU42lg8KhzFm",X="FYGaoekPDfjzcIefpTHm",Z="ujLaBmOi2MQeMVgO7kNh",_="r8rggC3J00YqHL7QMQMS",K="WsbIaJzxTEPxQ2VzFf7n",Y="gve_jID1hsUpJyyIosAA",Q="CCmaclatlUAn6FUou3rv",V=40,q=60,W=()=>document.querySelector(a.nr.APP_ROOT),$=e=>{let{className:s}=e;const[t,n]=r.useState(!1),[a,c]=r.useState(V),l=(0,f.PD)(),o=r.useRef(document.createElement("div"));r.useEffect((()=>{const e=o.current;return document.body.appendChild(e),()=>{document.body.removeChild(e)}}),[]),r.useEffect((()=>{const e=W();if(!(e instanceof HTMLDivElement))return;const s=(0,D.A)((()=>{const s=e.scrollTop>100;n(s);const t=e.scrollHeight-(e.scrollTop+e.offsetHeight)<q;c(t?q:V)}),25);return e.addEventListener("scroll",s),()=>{s.cancel(),e.removeEventListener("scroll",s)}}),[]);return(0,g.jsxs)("header",{className:(0,E.cn)(F,{[X]:t},s),children:[(0,g.jsx)(J,{}),(0,g.jsx)(H,{className:Z}),(()=>{const e=(0,g.jsx)("div",{className:_,style:{paddingBlockEnd:a},children:(0,g.jsx)(f.$n,{"aria-label":"Вернуться наверх",className:(0,E.cn)(K,{[Q]:l,[Y]:t}),disabled:!t,onClick:()=>{W()?.scrollTo({top:0})}})});return(0,b.createPortal)(e,o.current)})()]})},ee="WKQ4s6gfuV_YZR9lj0dB",se="_2deXYTvC8ADI1J0cjHKA",te=()=>(0,g.jsxs)(f.Od,{children:[(0,g.jsx)("h1",{className:ee,children:"Error 404"}),(0,g.jsx)("p",{className:se,children:"Page not found"})]}),re=r.lazy((()=>t.e(454).then(t.bind(t,62)))),ne=()=>(0,g.jsx)(r.Suspense,{fallback:(0,g.jsx)(f.Z,{}),children:(0,g.jsxs)(v.BV,{children:[(0,g.jsx)(v.qh,{path:a.a$.HOME,element:(0,g.jsx)(re,{})}),(0,g.jsx)(v.qh,{path:"*",element:(0,g.jsx)(te,{})})]})}),ae="ABGCK2at32nnsbYriviw",ce="ueH7BzUY_1h8Rfkz6zea",le=()=>{const{pathname:e}=(0,v.zy)(),s=(0,C.Z)(e),t=(0,f.PD)();return r.useEffect((()=>{const e=document.getElementById("page-overlay");e?.remove()}),[]),r.useEffect((()=>{const t=document.getElementById(a.nr.APP_ROOT);t&&e!==s&&t.scrollTo({top:0})}),[e,s]),(0,g.jsxs)("div",{className:(0,E.cn)(ae,{hasDarkTheme:t}),children:[(0,g.jsx)($,{className:ce}),(0,g.jsx)(ne,{}),(0,g.jsx)(S,{})]})},oe=(()=>{const e=(0,i.Ay)(),s=(0,o.U1)({reducer:{[u.x.reducerPath]:u.x.reducer},devTools:"production"!==a.Qy.PROD,middleware:s=>s({thunk:!1}).concat(e)});return e.run(x),s})(),ie=()=>(0,g.jsx)(N,{children:(0,g.jsx)(c.Kq,{store:oe,children:(0,g.jsx)(l.I9,{children:(0,g.jsx)(f.NP,{children:(0,g.jsx)(le,{})})})})});(()=>{const e=document.getElementById(a.nr.APP_ROOT);if(!e)return;const s=n.H(e),t=(0,g.jsx)(r.StrictMode,{children:(0,g.jsx)(ie,{})});s.render(t)})()},189:(e,s,t)=>{t.d(s,{Lw:()=>r,hz:()=>a,x1:()=>n});const r=10,n={CAPTION:"caption",HASHTAG:"hashtag",URL:"url"},a={NEW:"new",OLD:"old"}},336:(e,s,t)=>{t.d(s,{x:()=>g});var r=t(910),n=t(530),a=t(187);const c=(()=>{let e=1;return s=>{const t=s.trim(),r=t?`${t}_`:"",n=`(s${e})`;return e+=1,`${r}${n}`}})();var l=t(189);const o={error:null,list:[],process:"IDLE",searchString:"",page:1,filter:l.x1.CAPTION,sorting:l.hz.NEW},i=e=>e.filter,d=e=>e.searchString,u=e=>e.sorting,h=e=>e.page,m=(0,r.Mz)([e=>e.list,d,i],((e,s,t)=>{const r=s.toLowerCase();return""===r?e:e.filter((e=>{switch(t){case l.x1.CAPTION:return e.caption.toLowerCase().includes(r)||e.series?.some((e=>e.caption.toLowerCase().includes(r)));case l.x1.HASHTAG:return!!e.tags?.some((e=>e.toLowerCase().includes(r)))||e.series?.some((e=>e.tags?.some((e=>e.toLowerCase().includes(r)))));case l.x1.URL:{const s=e.url?.toLowerCase().includes(r);return s||e.series?.some((e=>e.url.toLowerCase().includes(r)))}default:return!0}}))})),p=(0,r.Mz)([m,u,h],((e,s)=>s===l.hz.NEW?[...e].reverse():e)),x=(0,r.Mz)([p],(e=>e.length)),f=(0,r.Mz)([p,h],((e,s)=>{const t=s*l.Lw;return e.slice(0,t)})),j=(0,r.Mz)([x,h],((e,s)=>s===Math.ceil(e/l.Lw))),g=(0,n.Z0)({name:c("linkList"),initialState:o,reducers:{fetchStart:e=>{e.process!==a.AM.LOADING&&(e.process=a.AM.LOADING,e.error=null)},fetchSuccess:(e,s)=>{let{payload:t}=s;e.process===a.AM.LOADING&&(e.process=a.AM.SUCCESS,e.list=t)},fetchFailure:(e,s)=>{let{payload:t}=s;e.process===a.AM.LOADING&&(e.process=a.AM.FAILURE,e.list=[],e.error=t)},search:(e,s)=>{let{payload:t}=s;e.page=1,e.searchString=t},toggleFilter:(e,s)=>{let{payload:t}=s;e.page=1,e.filter=t},toggleSorting:(e,s)=>{let{payload:t}=s;e.sorting=t},getNextPage:e=>{e.page+=1}},selectors:{error:e=>e.error,filter:i,filteredList:m,isLastPage:j,page:h,process:e=>e.process,searchString:d,sortedAmount:x,sorting:u,visibleList:f}})},187:(e,s,t)=>{t.d(s,{AM:()=>a,Qy:()=>r,a$:()=>c,au:()=>n,nr:()=>l});const r={DEV:"development",PROD:"production"},n={ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",UP:"ArrowUp",DOWN:"ArrowDown"},a={IDLE:"IDLE",LOADING:"LOADING",SUCCESS:"SUCCESS",FAILURE:"FAILURE"},c={HOME:"/"},l={APP_ROOT:"app-root"}},108:(e,s,t)=>{t.d(s,{Z:()=>n,U:()=>a});var r=t(747);const n=e=>{const s=r.useRef();return r.useEffect((()=>{s.current=e}),[e]),s.current},a=(e,s)=>{const t=r.useContext(e);if(void 0===t)throw new Error(`Hook must be used within a ${e.displayName||s||"Context"}.Provider`);return t}},868:(e,s,t)=>{t.d(s,{cn:()=>r});const r=t(750).$},188:(e,s,t)=>{t.d(s,{$n:()=>i,O6:()=>d,Od:()=>h,Z:()=>p,l6:()=>w,ks:()=>M,NP:()=>G,PD:()=>B,fD:()=>J});var r=t(747),n=t(868);const a="nTF9b5XMyHAs2zrA2dcR",c="b35_estiD16VocUmclr4";var l=t(923);const o=e=>{let{children:s,className:t,forwardedRef:r,type:c="button",...o}=e;return(0,l.jsx)("button",{ref:r,className:(0,n.cn)(a,t),type:c,...o,children:s})},i=r.forwardRef(((e,s)=>(0,l.jsx)(o,{...e,forwardedRef:s})));i.displayName="ForwardRef(Button)";const d=e=>{let{className:s,...t}=e;return(0,l.jsx)(i,{className:(0,n.cn)(c,s),...t})},u="PKCRpABTIyi7LlbTv8Gm",h=e=>{let{children:s}=e;return(0,l.jsx)("main",{className:u,children:s})},m="EdHNhEXe6Q9rvJSicH7L",p=e=>{let{className:s}=e;return(0,l.jsx)("div",{className:(0,n.cn)(m,s),role:"status",children:(0,l.jsx)("span",{className:"Spinner","aria-label":"Пожалуйста, подождите..."})})};var x=t(187);const f="XKGKRohtDLhDUURf4_HT",j="SvFfujD9ocM5xZGnMHOA",g="rC4laxbp8Xyhfs17waV7",N="rLkc2sTjHaC0OTXChCuo Ls_tnE15sMb2JLdwC3hT",v="ihQqzyfVVSijKwFKv3Ag",C="U4sNYDZafTW62p0Ch9oG YdHRiGj9HjP3DCBou8hA",E="X3ZcfmGCLHJSHEhEqNDU",y="KfozHMZmc2LDT1rYXxvL Ls_tnE15sMb2JLdwC3hT",A="Qc0XCis_TLiqp0IGslAf",w=e=>{let{className:s,dict:t,tip:a,value:c,onChange:o}=e;const[d,u]=r.useState(!1),h=r.useRef(null),m=r.useId(),p=r.useId();r.useEffect((()=>{const e=e=>{h.current&&e.target instanceof Node&&!h.current.contains(e.target)&&u(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]);const w=r.useMemo((()=>Object.entries(t)),[t]);return(0,l.jsxs)("div",{className:(0,n.cn)(f,s),children:[(0,l.jsx)("span",{className:j,id:m,children:a}),(0,l.jsxs)("div",{className:g,children:[(0,l.jsx)(i,{ref:h,className:(0,n.cn)(N,{[v]:d}),id:p,"aria-expanded":d,"aria-haspopup":"listbox","aria-labelledby":[m,p].join(" "),onClick:()=>{u((e=>!e))},onKeyDown:e=>{let{key:s}=e;if(!d&&s===x.au.DOWN)return void u(!0);if(s===x.au.ESCAPE)return void u(!1);let t=0;if(s===x.au.DOWN?t=1:s===x.au.UP&&(t=-1),!t)return;const r=w.findIndex((e=>e[0]===c)),n=w[r+t]?.[0];n&&o(n)},children:t[c]}),d&&(0,l.jsx)("ul",{className:C,role:"listbox",children:w.map((e=>{let[s,t]=e;const r=s===c;return(0,l.jsx)("li",{className:E,role:"option","aria-selected":r,children:(0,l.jsx)(i,{className:(0,n.cn)(y,{[A]:r}),onClick:()=>{u(!1),o(s),h.current?.focus()},onKeyDown:e=>{e.key===x.au.ESCAPE&&u(!1)},children:t})},s)}))})]})]})},L="dCAqYjgMSXrzvHIKPyHr",S="oZacwd45TOQEh356zlWt",D="yaO9Hfxx8w0BDyx7fLMs",b="UPAsHNSxMcX92OSdLImi",P="VNJDBgWcEDEOgikOjCf_",H="DGt1s4oJhhttuu7J7aso gwBp66PJsmOnbqnwZGXd",O="N5y12t_hPsM6b2rirfIQ gwBp66PJsmOnbqnwZGXd",T=e=>{let{className:s,forwardedRef:t,inputMode:r,legend:a,tipChar:c,value:o,onChange:d}=e;const u=!!c,h=""!==o;return(0,l.jsxs)("div",{className:(0,n.cn)(L,s),children:[u&&(0,l.jsx)("span",{className:H,"aria-hidden":"true",children:c}),(0,l.jsx)("label",{className:S,"aria-label":a,children:(0,l.jsx)("input",{ref:t,className:(0,n.cn)(D,{[b]:u,[P]:h}),inputMode:r,type:"text",value:o,onChange:e=>{d(e.target.value)}})}),h&&(0,l.jsx)(i,{"aria-label":"Очистить поле ввода",className:O,onClick:()=>{d(""),t&&"function"!=typeof t&&t.current?.focus()}})]})},M=r.forwardRef(((e,s)=>(0,l.jsx)(T,{...e,forwardedRef:s})));M.displayName="ForwardRef(TextInput)";var k=t(108);const I=r.createContext(void 0);I.displayName="ThemeStateContext";const R=r.createContext(void 0);R.displayName="ThemeUpdaterContext";const U="ui-theme",z=()=>{const e=localStorage.getItem(U);return"light"===(s=e)||"dark"===s?e:"light";var s},G=e=>{let{children:s}=e;const[t,n]=r.useState(z);return(0,l.jsx)(I.Provider,{value:t,children:(0,l.jsx)(R.Provider,{value:n,children:s})})},B=()=>{const e=(0,k.U)(I);return r.useEffect((()=>{localStorage.setItem(U,e)}),[e]),"dark"===e},J=()=>{const e=(0,k.U)(R);return r.useCallback((()=>{e((e=>"dark"===e?"light":"dark"))}),[e])}}},e=>{e.O(0,[524],(()=>{e.E(454)}),5);e.O(0,[644,96],(()=>{return s=867,e(e.s=s);var s}));e.O()}]);