"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[524],{147:(e,s,t)=>{t.d(s,{$:()=>o,O:()=>l});t(7747);var r=t(9868);const n="QUzVOGPZyS5Og6hyAzMt",a="o4CUUrD4OsQYIVoeaGYf";var c=t(5923);const o=({children:e,className:s,ref:t,type:a="button",...o})=>(0,c.jsx)("button",{...o,ref:t,className:(0,r.cn)(n,s),type:a,children:e}),l=({className:e,...s})=>(0,c.jsx)(o,{className:(0,r.cn)(a,e),...s})},1189:(e,s,t)=>{t.d(s,{Lw:()=>r,hz:()=>a,x1:()=>n});const r=10,n={CAPTION:"caption",HASHTAG:"hashtag",URL:"url"},a={NEW:"new",OLD:"old"}},1238:(e,s,t)=>{var r=t(7747),n=t(4119),a=t(6187),c=t(5022),o=t(4336),l=t(3530),i=t(2284),d=t(1895),u=t(1955);const h=async()=>{const e=`/cs-reading-whitelist/data/link-list.json?${Date.now()}`;return(await fetch(e)).json()},p=function*(){try{const e=yield(0,d.T1)(h);yield(0,d.yJ)(u.x.actions.fetchSuccess(e.data))}catch(e){e instanceof Error&&(yield(0,d.yJ)(u.x.actions.fetchFailure(e)))}},x=function*(){yield(0,d.p8)(u.x.actions.fetchStart.type,p)},m=function*(){yield(0,d.Q7)([(0,d.T1)(x)])};var g=t(3187);const f=(0,g.$8)("ThemeStateContext"),j=(0,g.$8)("ThemeUpdaterContext"),v="ui-theme";var E=t(5923);const y=({children:e})=>{const[s,t]=r.useState(N);return(0,E.jsx)(f,{value:s,children:(0,E.jsx)(j,{value:t,children:e})})},N=()=>{const e=localStorage.getItem(v);return C(e)?e:"light"},C=e=>"light"===e||"dark"===e,S=()=>{const e=(0,g.U7)(f);return r.useEffect((()=>{localStorage.setItem(v,e)}),[e]),"dark"===e},O="deE56uBxLpDdWEMR5o1P";class A extends r.Component{static getDerivedStateFromError(e){return{error:e}}state={error:null};render(){return this.state.error?(0,E.jsx)("p",{className:O,children:"Something went wrong in React app:("}):this.props.children}}var L=t(9868);const w="MRk1jMJQrUliPsKbN918",P="GuG5n249YtFKxeD7JTrO _2qsXrGSla5Oyhac1dBHU",b="vU5U0u7M_SVHkE3py5qG BT4pkluQgYyuho2E9pp1",k=[{legend:"GitHub",url:"https://github.com/yialo/cs-reading-whitelist"},{legend:"Twitter",url:"https://twitter.com/xarroalex"},{legend:"CodeSandbox",url:"https://codesandbox.io/u/yialo/sandboxes"},{legend:"CodePen",url:"https://codepen.io/yialo/pens/public?grid_type=list"}],T=()=>(0,E.jsx)("footer",{className:w,children:(0,E.jsx)("ul",{className:b,children:k.map((({legend:e,url:s},t)=>(0,E.jsx)("li",{children:(0,E.jsx)("a",{className:P,href:s,children:e})},t)))})});var M=t(7564),I=t(238),U=t(147);const D="XJuN53MTwvlmPH9hk0MY",z=({className:e})=>{const s=S(),t=(()=>{const e=(0,g.U7)(j);return r.useCallback((()=>{e((e=>"dark"===e?"light":"dark"))}),[e])})();return(0,E.jsx)(U.O,{className:(0,L.cn)(D,e),"aria-label":"Режим тёмной темы","aria-pressed":s,onClick:t,children:"Go "+(s?"light":"dark")})},R="/",H="/stringer",G="i4Nk6p4lwT5YP1iPUZJY",F="fJ_IcJvPrGaiHeE21dpr",V="DV5hsaO1ZCxFvcV5xUxQ",q="PVF1YRrQC21TUhbLdsOg BT4pkluQgYyuho2E9pp1",Q="xOgqMbfPzp8nNvaYrE15",Y="yd8O__02OIR09bXabyi2",Z=(0,E.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),$=(0,E.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),J=({isExpanded:e})=>(0,E.jsxs)("svg",{"aria-hidden":"true",className:V,viewBox:"0 0 24 24",width:"100%",height:"100%",children:[(0,E.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),e?Z:$]}),_=[{url:R,label:"Reading"},{url:H,label:"Stringer"}],B=({className:e})=>{const[s,t]=r.useState(!1);return r.useEffect((()=>{const e=e=>{e.key===a.au.ESCAPE&&t(!1)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[]),(0,E.jsxs)("nav",{className:(0,L.cn)(G,e,{isCollapsedScreenSm:!s}),children:[(0,E.jsx)("button",{"aria-haspopup":"listbox","aria-expanded":s,"aria-label":"Меню",className:F,type:"button",onClick:()=>{t((e=>!e))},children:(0,E.jsx)(J,{isExpanded:s})}),(0,E.jsx)("ul",{className:q,children:_.map((({url:e,label:s})=>(0,E.jsx)("li",{children:(0,E.jsx)(o.k2,{className:({isActive:e})=>(0,L.cn)(Q,{[Y]:e}),to:e,end:!0,onClick:()=>{t(!1)},children:s})},s)))})]})},W="OWSKlLEmQamFRjDAF1fa",K="HjwMlnQIhuqoAj4gevvy",X="DpThcpwrwd6q9zUx5OHe",ee="RP5bAxwSOlVjr1Tzrk7J",se="iiyrIxar2gOcdSYOWUty",te="Vb2D8jC1FtXU80dCLNW0",re="qcIqNfA123_zDKxVMFpP",ne=40,ae=60,ce=()=>document.querySelector(a.nr.APP_ROOT),oe=({className:e})=>{const[s,t]=r.useState(!1),[n,a]=r.useState(ne),c=S(),o=r.useRef(document.createElement("div"));r.useEffect((()=>{const e=o.current;return document.body.appendChild(e),()=>{document.body.removeChild(e)}}),[]),r.useEffect((()=>{const e=ce();if(!(e instanceof HTMLDivElement))return;const s=(0,M.A)((()=>{const s=e.scrollTop>100;t(s);const r=e.scrollHeight-(e.scrollTop+e.offsetHeight)<ae;a(r?ae:ne)}),25);return e.addEventListener("scroll",s),()=>{s.cancel(),e.removeEventListener("scroll",s)}}),[]);return(0,E.jsxs)("header",{className:(0,L.cn)(W,{[K]:s},e),children:[(0,E.jsx)(B,{}),(0,E.jsx)(z,{className:X}),(()=>{const e=(0,E.jsx)("div",{className:ee,style:{paddingBlockEnd:n},children:(0,E.jsx)(U.$,{"aria-label":"Вернуться наверх",className:(0,L.cn)(se,{[re]:c,[te]:s}),disabled:!s,onClick:()=>{ce()?.scrollTo({top:0})}})});return(0,I.createPortal)(e,o.current)})()]})};var le=t(7756),ie=t(5383);const de="zJWgMIANVPxCHALEzFyC",ue="xtRtCnxkTVJin7lC8Fgd",he=()=>(0,E.jsxs)(le.O,{children:[(0,E.jsx)("title",{children:(0,ie.O)("Page not found")}),(0,E.jsx)("h1",{className:de,children:"Error 404"}),(0,E.jsx)("p",{className:ue,children:"Page not found"})]}),pe=r.lazy((()=>Promise.all([t.e(96),t.e(454)]).then(t.bind(t,5637)))),xe=r.lazy((()=>t.e(971).then(t.bind(t,9135))));var me=t(5249);const ge=()=>(0,E.jsx)(r.Suspense,{fallback:(0,E.jsx)(me.Z,{}),children:(0,E.jsxs)(o.BV,{children:[(0,E.jsx)(o.qh,{path:R,element:(0,E.jsx)(pe,{})}),(0,E.jsx)(o.qh,{path:H,element:(0,E.jsx)(xe,{})}),(0,E.jsx)(o.qh,{path:"*",element:(0,E.jsx)(he,{})})]})}),fe="eBfYoMUW6aZI0HeiClei",je="IhUN0L7uhHwVlGtMCqOA",ve=()=>{const{pathname:e}=(0,o.zy)(),s=(0,g.ZC)(e),t=S();return r.useEffect((()=>{const e=document.getElementById("page-overlay");e?.remove()}),[]),r.useEffect((()=>{const t=document.getElementById(a.nr.APP_ROOT);t&&e!==s&&t.scrollTo({top:0})}),[e,s]),(0,E.jsxs)("div",{className:(0,L.cn)(fe,{hasDarkTheme:t}),children:[(0,E.jsx)(oe,{className:je}),(0,E.jsx)(ge,{}),(0,E.jsx)(T,{})]})},Ee=(()=>{const e=(0,i.Ay)(),s=(0,l.U1)({reducer:{[u.x.reducerPath]:u.x.reducer},devTools:"production"!==a.Qy.PROD,middleware:s=>s({thunk:!1}).concat(e)});return e.run(m),s})(),ye=()=>(0,E.jsx)(A,{children:(0,E.jsx)(c.Kq,{store:Ee,children:(0,E.jsx)(o.I9,{children:(0,E.jsx)(y,{children:(0,E.jsx)(ve,{})})})})});(()=>{const e=document.getElementById(a.nr.APP_ROOT);if(!e)return;const s=n.createRoot(e),t=(0,E.jsx)(r.StrictMode,{children:(0,E.jsx)(ye,{})});s.render(t)})()},1955:(e,s,t)=>{t.d(s,{x:()=>j});t(6316),t(3916),t(9050);var r=t(910),n=t(3530),a=t(6187);const c=(()=>{let e=1;return s=>{const t=s.trim(),r=t?`${t}_`:"",n=`(s${e})`;return e+=1,`${r}${n}`}})();var o=t(1189);const l={error:null,list:[],process:"IDLE",searchString:"",page:1,filter:o.x1.CAPTION,sorting:o.hz.NEW},i=e=>e.filter,d=e=>e.searchString,u=e=>e.sorting,h=e=>e.page,p=(0,r.Mz)([e=>e.list,d,i],((e,s,t)=>{const r=s.toLowerCase();return""===r?e:e.filter((e=>{switch(t){case o.x1.CAPTION:return e.caption.toLowerCase().includes(r)||e.series?.some((e=>e.caption.toLowerCase().includes(r)));case o.x1.HASHTAG:return!!e.tags?.some((e=>e.toLowerCase().includes(r)))||e.series?.some((e=>e.tags?.some((e=>e.toLowerCase().includes(r)))));case o.x1.URL:{const s=e.url?.toLowerCase().includes(r);return s||e.series?.some((e=>e.url.toLowerCase().includes(r)))}default:return!0}}))})),x=(0,r.Mz)([p,u,h],((e,s)=>s===o.hz.NEW?[...e].reverse():e)),m=(0,r.Mz)([x],(e=>e.length)),g=(0,r.Mz)([x,h],((e,s)=>{const t=s*o.Lw;return e.slice(0,t)})),f=(0,r.Mz)([m,h],((e,s)=>s===Math.ceil(e/o.Lw))),j=(0,n.Z0)({name:c("linkList"),initialState:l,reducers:{fetchStart:e=>{e.process!==a.AM.LOADING&&(e.process=a.AM.LOADING,e.error=null)},fetchSuccess:(e,{payload:s})=>{e.process===a.AM.LOADING&&(e.process=a.AM.SUCCESS,e.list=s)},fetchFailure:(e,{payload:s})=>{e.process===a.AM.LOADING&&(e.process=a.AM.FAILURE,e.list=[],e.error=s)},search:(e,{payload:s})=>{e.page=1,e.searchString=s},toggleFilter:(e,{payload:s})=>{e.page=1,e.filter=s},toggleSorting:(e,{payload:s})=>{e.sorting=s},getNextPage:e=>{e.page+=1}},selectors:{error:e=>e.error,filter:i,filteredList:p,isLastPage:f,page:h,process:e=>e.process,searchString:d,sortedAmount:m,sorting:u,visibleList:g}})},3187:(e,s,t)=>{t.d(s,{$8:()=>c,ZC:()=>a,U7:()=>o});var r=t(7747);const n="undefined"!=typeof document?r.useLayoutEffect:r.useEffect,a=e=>{const s=r.useRef(void 0);return n((()=>{s.current=e})),s.current},c=e=>{const s=r.createContext(void 0);return s.displayName=e,s},o=(e,s)=>{const t=r.use(e);if(void 0===t)throw new Error(`Hook must be used within a ${e.displayName||s||"Context"}.Provider`);return t}},5249:(e,s,t)=>{t.d(s,{Z:()=>c});var r=t(9868);const n="MrZaG7hyYelaQ8vGWZoJ";var a=t(5923);const c=({className:e})=>(0,a.jsx)("div",{className:(0,r.cn)(n,e),role:"status",children:(0,a.jsx)("span",{className:"Spinner","aria-label":"Пожалуйста, подождите..."})})},5383:(e,s,t)=>{t.d(s,{O:()=>r});const r=e=>`${e} | cs-reading-whitelist`},6187:(e,s,t)=>{t.d(s,{AM:()=>a,Qy:()=>r,au:()=>n,nr:()=>c});const r={DEV:"development",PROD:"production"},n={ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",UP:"ArrowUp",DOWN:"ArrowDown"},a={IDLE:"IDLE",LOADING:"LOADING",SUCCESS:"SUCCESS",FAILURE:"FAILURE"},c={APP_ROOT:"app-root"}},7756:(e,s,t)=>{t.d(s,{O:()=>a});const r="bSErT2sLLZ93ZTGIoAmg";var n=t(5923);const a=({children:e})=>(0,n.jsx)("main",{className:r,children:e})},9868:(e,s,t)=>{t.d(s,{cn:()=>r});const r=t(1750).$}},e=>{e.O(0,[524],(()=>{[96,454,971].map(e.E)}),5);e.O(0,[644,96],(()=>{return s=1238,e(e.s=s);var s}));e.O()}]);