"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[524],{760:(e,s,t)=>{var r=t(424),n=t(860),a=t(236),c=t(388),l=t(828),o=t(212),i=t(912),d=t(620),u=t(792);const h=async()=>{const e=`/cs-reading-whitelist/data/link-list.json?${Date.now()}`;return(await fetch(e)).json()},m=function*(){try{const e=yield(0,d.MN)(h);yield(0,d.Aj)(u.A.actions.fetchSuccess(e.data))}catch(e){e instanceof Error&&(yield(0,d.Aj)(u.A.actions.fetchFailure(e)))}},p=function*(){yield(0,d.y0)(u.A.actions.fetchStart.type,m)},x=function*(){yield(0,d.Q7)([(0,d.MN)(p)])};var f=t(356);const j="RPpwKmY6hl4Ixp_l6GMt";var g=t(880);class C extends r.Component{static getDerivedStateFromError(e){return{error:e}}state={error:null};render(){return this.state.error?(0,g.jsx)("p",{className:j,children:"Something went wrong in React app:("}):this.props.children}}var N=t(904),E=t(504),v=t(480);const S="tA8xfQogZTb7q74dXD8O",y="G96GyXgtE2inY78qnx8g CoHCmRSjV8UxfTt5hXJc",A="JJ6FN020AULZlY8EDesi YdHRiGj9HjP3DCBou8hA",w=[{legend:"GitHub",url:"https://github.com/yialo/cs-reading-whitelist"},{legend:"Twitter",url:"https://twitter.com/xarroalex"},{legend:"CodeSandbox",url:"https://codesandbox.io/u/yialo/sandboxes"},{legend:"CodePen",url:"https://codepen.io/yialo/pens/public?grid_type=list"}],L=()=>(0,g.jsx)("footer",{className:S,children:(0,g.jsx)("ul",{className:A,children:w.map(((e,s)=>{let{legend:t,url:r}=e;return(0,g.jsx)("li",{children:(0,g.jsx)("a",{className:y,href:r,children:t})},s)}))})});var b=t(872),O=t(112);const D="IZngkMABSukfyWEDU0Fo",H=e=>{let{className:s}=e;const t=(0,f.oj)(),r=(0,f.kJ)();return(0,g.jsx)(f.Qi,{className:(0,v.cn)(D,s),"aria-label":"Режим тёмной темы","aria-pressed":t,onClick:r,children:"Go "+(t?"light":"dark")})},T="ZHTwXbaL1wwaHgAXFZJy",M="ICiWehXMYpfEVHIjy60S",k="L5ewMThTaf9sydxhla3l",I="HZyHAp8vojLPioclC7SN YdHRiGj9HjP3DCBou8hA",P="fKbFmfED4QTDTx9VdLVn",R="BZ9_JfHXfBCDNCms0xAT",G=(0,g.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),U=(0,g.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),_=e=>{let{isExpanded:s}=e;return(0,g.jsxs)("svg",{"aria-hidden":"true",className:k,viewBox:"0 0 24 24",width:"100%",height:"100%",children:[(0,g.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),s?G:U]})},X=[{url:a.uq.HOME,label:"Reading"}],B=e=>{let{className:s}=e;const[t,n]=r.useState(!1);return r.useEffect((()=>{const e=e=>{e.key===a.En.ESCAPE&&n(!1)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[]),(0,g.jsxs)("nav",{className:(0,v.cn)(T,s,{isCollapsedScreenSm:!t}),children:[(0,g.jsx)("button",{"aria-haspopup":"listbox","aria-expanded":t,"aria-label":"Меню",className:M,type:"button",onClick:()=>{n((e=>!e))},children:(0,g.jsx)(_,{isExpanded:t})}),(0,g.jsx)("ul",{className:I,children:X.map((e=>{let{url:s,label:t}=e;return(0,g.jsx)("li",{children:(0,g.jsx)(l.Af,{className:e=>{let{isActive:s}=e;return(0,v.cn)(P,{[R]:s})},to:s,end:!0,onClick:()=>{n(!1)},children:t})},t)}))})]})},J="uL2OJr2SIU42lg8KhzFm",q="FYGaoekPDfjzcIefpTHm",F="ujLaBmOi2MQeMVgO7kNh",z="r8rggC3J00YqHL7QMQMS",Y="WsbIaJzxTEPxQ2VzFf7n",K="gve_jID1hsUpJyyIosAA",Q="CCmaclatlUAn6FUou3rv",Z=40,V=60,W=()=>document.querySelector(a.mM.APP_ROOT),$=e=>{let{className:s}=e;const[t,n]=r.useState(!1),[a,c]=r.useState(Z),l=(0,f.oj)(),o=r.useRef(document.createElement("div"));r.useEffect((()=>{const e=o.current;return document.body.appendChild(e),()=>{document.body.removeChild(e)}}),[]),r.useEffect((()=>{const e=W();if(!(e instanceof HTMLDivElement))return;const s=(0,b.c)((()=>{const s=e.scrollTop>100;n(s);const t=e.scrollHeight-(e.scrollTop+e.offsetHeight)<V;c(t?V:Z)}),25);return e.addEventListener("scroll",s),()=>{s.cancel(),e.removeEventListener("scroll",s)}}),[]);return(0,g.jsxs)("header",{className:(0,v.cn)(J,{[q]:t},s),children:[(0,g.jsx)(B,{}),(0,g.jsx)(H,{className:F}),(()=>{const e=(0,g.jsx)("div",{className:z,style:{paddingBlockEnd:a},children:(0,g.jsx)(f.q,{"aria-label":"Вернуться наверх",className:(0,v.cn)(Y,{[Q]:l,[K]:t}),disabled:!t,onClick:()=>{W()?.scrollTo({top:0})}})});return(0,O.createPortal)(e,o.current)})()]})},ee="WKQ4s6gfuV_YZR9lj0dB",se="_2deXYTvC8ADI1J0cjHKA",te=()=>(0,g.jsxs)(f.CI,{children:[(0,g.jsx)("h1",{className:ee,children:"Error 404"}),(0,g.jsx)("p",{className:se,children:"Page not found"})]}),re=r.lazy((()=>t.e(324).then(t.bind(t,274)))),ne=()=>(0,g.jsx)(r.Suspense,{fallback:(0,g.jsx)(f.w3,{}),children:(0,g.jsxs)(N.c5,{children:[(0,g.jsx)(N.kX,{path:a.uq.HOME,element:(0,g.jsx)(re,{})}),(0,g.jsx)(N.kX,{path:"*",element:(0,g.jsx)(te,{})})]})}),ae="ABGCK2at32nnsbYriviw",ce="ueH7BzUY_1h8Rfkz6zea",le=()=>{const{pathname:e}=(0,N.IT)(),s=(0,E.i)(e),t=(0,f.oj)();return r.useEffect((()=>{const e=document.getElementById("page-overlay");e?.remove()}),[]),r.useEffect((()=>{const t=document.getElementById(a.mM.APP_ROOT);t&&e!==s&&t.scrollTo({top:0})}),[e,s]),(0,g.jsxs)("div",{className:(0,v.cn)(ae,{hasDarkTheme:t}),children:[(0,g.jsx)($,{className:ce}),(0,g.jsx)(ne,{}),(0,g.jsx)(L,{})]})},oe=(()=>{const e=(0,i.cp)(),s=(0,o.eS)({reducer:{[u.A.reducerPath]:u.A.reducer},devTools:"production"!==a.iS.PROD,middleware:s=>s({thunk:!1}).concat(e)});return e.run(x),s})(),ie=()=>(0,g.jsx)(C,{children:(0,g.jsx)(c.C_,{store:oe,children:(0,g.jsx)(l.mk,{children:(0,g.jsx)(f.Mp,{children:(0,g.jsx)(le,{})})})})});(()=>{const e=document.getElementById(a.mM.APP_ROOT);if(!e)return;const s=n.C(e),t=(0,g.jsx)(r.StrictMode,{children:(0,g.jsx)(ie,{})});s.render(t)})()},604:(e,s,t)=>{t.d(s,{NC:()=>r,S_:()=>a,qO:()=>n});const r=10,n={CAPTION:"caption",HASHTAG:"hashtag",URL:"url"},a={NEW:"new",OLD:"old"}},792:(e,s,t)=>{t.d(s,{A:()=>g});var r=t(396),n=t(212),a=t(236);const c=(()=>{let e=1;return s=>{const t=s.trim(),r=t?`${t}_`:"",n=`(s${e})`;return e+=1,`${r}${n}`}})();var l=t(604);const o={error:null,list:[],process:"IDLE",searchString:"",page:1,filter:l.qO.CAPTION,sorting:l.S_.NEW},i=e=>e.filter,d=e=>e.searchString,u=e=>e.sorting,h=e=>e.page,m=(0,r.M3)([e=>e.list,d,i],((e,s,t)=>{const r=s.toLowerCase();return""===r?e:e.filter((e=>{switch(t){case l.qO.CAPTION:return e.caption.toLowerCase().includes(r)||e.series?.some((e=>e.caption.toLowerCase().includes(r)));case l.qO.HASHTAG:return!!e.tags?.some((e=>e.toLowerCase().includes(r)))||e.series?.some((e=>e.tags?.some((e=>e.toLowerCase().includes(r)))));case l.qO.URL:{const s=e.url?.toLowerCase().includes(r);return s||e.series?.some((e=>e.url.toLowerCase().includes(r)))}default:return!0}}))})),p=(0,r.M3)([m,u,h],((e,s)=>s===l.S_.NEW?[...e].reverse():e)),x=(0,r.M3)([p],(e=>e.length)),f=(0,r.M3)([p,h],((e,s)=>{const t=s*l.NC;return e.slice(0,t)})),j=(0,r.M3)([x,h],((e,s)=>s===Math.ceil(e/l.NC))),g=(0,n.is)({name:c("linkList"),initialState:o,reducers:{fetchStart:e=>{e.process!==a.gx.LOADING&&(e.process=a.gx.LOADING,e.error=null)},fetchSuccess:(e,s)=>{let{payload:t}=s;e.process===a.gx.LOADING&&(e.process=a.gx.SUCCESS,e.list=t)},fetchFailure:(e,s)=>{let{payload:t}=s;e.process===a.gx.LOADING&&(e.process=a.gx.FAILURE,e.list=[],e.error=t)},search:(e,s)=>{let{payload:t}=s;e.page=1,e.searchString=t},toggleFilter:(e,s)=>{let{payload:t}=s;e.page=1,e.filter=t},toggleSorting:(e,s)=>{let{payload:t}=s;e.sorting=t},getNextPage:e=>{e.page+=1}},selectors:{error:e=>e.error,filter:i,filteredList:m,isLastPage:j,page:h,process:e=>e.process,searchString:d,sortedAmount:x,sorting:u,visibleList:f}})},236:(e,s,t)=>{t.d(s,{En:()=>n,gx:()=>a,iS:()=>r,mM:()=>l,uq:()=>c});const r={DEV:"development",PROD:"production"},n={ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",UP:"ArrowUp",DOWN:"ArrowDown"},a={IDLE:"IDLE",LOADING:"LOADING",SUCCESS:"SUCCESS",FAILURE:"FAILURE"},c={HOME:"/"},l={APP_ROOT:"app-root"}},504:(e,s,t)=>{t.d(s,{i:()=>n,C:()=>a});var r=t(424);const n=e=>{const s=r.useRef();return r.useEffect((()=>{s.current=e}),[e]),s.current},a=(e,s)=>{const t=r.useContext(e);if(void 0===t)throw new Error(`Hook must be used within a ${e.displayName||s||"Context"}.Provider`);return t}},480:(e,s,t)=>{t.d(s,{cn:()=>r});const r=t(732).C},356:(e,s,t)=>{t.d(s,{q:()=>i,Qi:()=>d,CI:()=>h,w3:()=>p,M1:()=>A,gf:()=>k,Mp:()=>_,oj:()=>X,kJ:()=>B});var r=t(424),n=t(480);const a="nTF9b5XMyHAs2zrA2dcR",c="b35_estiD16VocUmclr4";var l=t(880);const o=e=>{let{children:s,className:t,forwardedRef:r,type:c="button",...o}=e;return(0,l.jsx)("button",{ref:r,className:(0,n.cn)(a,t),type:c,...o,children:s})},i=r.forwardRef(((e,s)=>(0,l.jsx)(o,{...e,forwardedRef:s})));i.displayName="ForwardRef(Button)";const d=e=>{let{className:s,...t}=e;return(0,l.jsx)(i,{className:(0,n.cn)(c,s),...t})},u="PKCRpABTIyi7LlbTv8Gm",h=e=>{let{children:s}=e;return(0,l.jsx)("main",{className:u,children:s})},m="EdHNhEXe6Q9rvJSicH7L",p=e=>{let{className:s}=e;return(0,l.jsx)("div",{className:(0,n.cn)(m,s),role:"status",children:(0,l.jsx)("span",{className:"Spinner","aria-label":"Пожалуйста, подождите..."})})};var x=t(236);const f="XKGKRohtDLhDUURf4_HT",j="SvFfujD9ocM5xZGnMHOA",g="rC4laxbp8Xyhfs17waV7",C="rLkc2sTjHaC0OTXChCuo Ls_tnE15sMb2JLdwC3hT",N="ihQqzyfVVSijKwFKv3Ag",E="U4sNYDZafTW62p0Ch9oG YdHRiGj9HjP3DCBou8hA",v="X3ZcfmGCLHJSHEhEqNDU",S="KfozHMZmc2LDT1rYXxvL Ls_tnE15sMb2JLdwC3hT",y="Qc0XCis_TLiqp0IGslAf",A=e=>{let{className:s,dict:t,tip:a,value:c,onChange:o}=e;const[d,u]=r.useState(!1),h=r.useRef(null),m=r.useId(),p=r.useId();r.useEffect((()=>{const e=e=>{h.current&&e.target instanceof Node&&!h.current.contains(e.target)&&u(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]);const A=r.useMemo((()=>Object.entries(t)),[t]);return(0,l.jsxs)("div",{className:(0,n.cn)(f,s),children:[(0,l.jsx)("span",{className:j,id:m,children:a}),(0,l.jsxs)("div",{className:g,children:[(0,l.jsx)(i,{ref:h,className:(0,n.cn)(C,{[N]:d}),id:p,"aria-expanded":d,"aria-haspopup":"listbox","aria-labelledby":[m,p].join(" "),onClick:()=>{u((e=>!e))},onKeyDown:e=>{let{key:s}=e;if(!d&&s===x.En.DOWN)return void u(!0);if(s===x.En.ESCAPE)return void u(!1);let t=0;if(s===x.En.DOWN?t=1:s===x.En.UP&&(t=-1),!t)return;const r=A.findIndex((e=>e[0]===c)),n=A[r+t]?.[0];n&&o(n)},children:t[c]}),d&&(0,l.jsx)("ul",{className:E,role:"listbox",children:A.map((e=>{let[s,t]=e;const r=s===c;return(0,l.jsx)("li",{className:v,role:"option","aria-selected":r,children:(0,l.jsx)(i,{className:(0,n.cn)(S,{[y]:r}),onClick:()=>{u(!1),o(s),h.current?.focus()},onKeyDown:e=>{e.key===x.En.ESCAPE&&u(!1)},children:t})},s)}))})]})]})},w="dCAqYjgMSXrzvHIKPyHr",L="oZacwd45TOQEh356zlWt",b="yaO9Hfxx8w0BDyx7fLMs",O="UPAsHNSxMcX92OSdLImi",D="VNJDBgWcEDEOgikOjCf_",H="DGt1s4oJhhttuu7J7aso gwBp66PJsmOnbqnwZGXd",T="N5y12t_hPsM6b2rirfIQ gwBp66PJsmOnbqnwZGXd",M=e=>{let{className:s,forwardedRef:t,inputMode:r,legend:a,tipChar:c,value:o,onChange:d}=e;const u=!!c,h=""!==o;return(0,l.jsxs)("div",{className:(0,n.cn)(w,s),children:[u&&(0,l.jsx)("span",{className:H,"aria-hidden":"true",children:c}),(0,l.jsx)("label",{className:L,"aria-label":a,children:(0,l.jsx)("input",{ref:t,className:(0,n.cn)(b,{[O]:u,[D]:h}),inputMode:r,type:"text",value:o,onChange:e=>{d(e.target.value)}})}),h&&(0,l.jsx)(i,{"aria-label":"Очистить поле ввода",className:T,onClick:()=>{d(""),t&&"function"!=typeof t&&t.current?.focus()}})]})},k=r.forwardRef(((e,s)=>(0,l.jsx)(M,{...e,forwardedRef:s})));k.displayName="ForwardRef(TextInput)";var I=t(504);const P=r.createContext(void 0);P.displayName="ThemeStateContext";const R=r.createContext(void 0);R.displayName="ThemeUpdaterContext";const G="ui-theme",U=()=>{const e=localStorage.getItem(G);return"light"===(s=e)||"dark"===s?e:"light";var s},_=e=>{let{children:s}=e;const[t,n]=r.useState(U);return(0,l.jsx)(P.Provider,{value:t,children:(0,l.jsx)(R.Provider,{value:n,children:s})})},X=()=>{const e=(0,I.C)(P);return r.useEffect((()=>{localStorage.setItem(G,e)}),[e]),"dark"===e},B=()=>{const e=(0,I.C)(R);return r.useCallback((()=>{e((e=>"dark"===e?"light":"dark"))}),[e])}}},e=>{e.O(0,[524],(()=>{e.E(324)}),5);e.O(0,[260,275],(()=>{return s=760,e(e.s=s);var s}));e.O()}]);