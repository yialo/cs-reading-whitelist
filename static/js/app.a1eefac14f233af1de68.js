"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[524],{147:(e,t,r)=>{r.d(t,{$:()=>c,O:()=>o});r(7747);var s=r(9868);const n="QUzVOGPZyS5Og6hyAzMt",a="o4CUUrD4OsQYIVoeaGYf";var l=r(5923);const c=e=>{let{children:t,className:r,ref:a,type:c="button",...o}=e;return(0,l.jsx)("button",{...o,ref:a,className:(0,s.cn)(n,r),type:c,children:t})},o=e=>{let{className:t,...r}=e;return(0,l.jsx)(c,{className:(0,s.cn)(a,t),...r})}},1189:(e,t,r)=>{r.d(t,{Lw:()=>s,hz:()=>a,x1:()=>n});const s=10,n={CAPTION:"caption",HASHTAG:"hashtag",URL:"url"},a={NEW:"new",OLD:"old"}},4336:(e,t,r)=>{r.d(t,{x:()=>v});r(6316),r(3916),r(9050);var s=r(910),n=r(3530),a=r(6187);const l=(()=>{let e=1;return t=>{const r=t.trim(),s=r?`${r}_`:"",n=`(s${e})`;return e+=1,`${s}${n}`}})();var c=r(1189);const o={error:null,list:[],process:"IDLE",searchString:"",page:1,filter:c.x1.CAPTION,sorting:c.hz.NEW},i=e=>e.filter,d=e=>e.searchString,u=e=>e.sorting,h=e=>e.page,p=(0,s.Mz)([e=>e.list,d,i],((e,t,r)=>{const s=t.toLowerCase();return""===s?e:e.filter((e=>{switch(r){case c.x1.CAPTION:return e.caption.toLowerCase().includes(s)||e.series?.some((e=>e.caption.toLowerCase().includes(s)));case c.x1.HASHTAG:return!!e.tags?.some((e=>e.toLowerCase().includes(s)))||e.series?.some((e=>e.tags?.some((e=>e.toLowerCase().includes(s)))));case c.x1.URL:{const t=e.url?.toLowerCase().includes(s);return t||e.series?.some((e=>e.url.toLowerCase().includes(s)))}default:return!0}}))})),x=(0,s.Mz)([p,u,h],((e,t)=>t===c.hz.NEW?[...e].reverse():e)),m=(0,s.Mz)([x],(e=>e.length)),g=(0,s.Mz)([x,h],((e,t)=>{const r=t*c.Lw;return e.slice(0,r)})),j=(0,s.Mz)([m,h],((e,t)=>t===Math.ceil(e/c.Lw))),v=(0,n.Z0)({name:l("linkList"),initialState:o,reducers:{fetchStart:e=>{e.process!==a.AM.LOADING&&(e.process=a.AM.LOADING,e.error=null)},fetchSuccess:(e,t)=>{let{payload:r}=t;e.process===a.AM.LOADING&&(e.process=a.AM.SUCCESS,e.list=r)},fetchFailure:(e,t)=>{let{payload:r}=t;e.process===a.AM.LOADING&&(e.process=a.AM.FAILURE,e.list=[],e.error=r)},search:(e,t)=>{let{payload:r}=t;e.page=1,e.searchString=r},toggleFilter:(e,t)=>{let{payload:r}=t;e.page=1,e.filter=r},toggleSorting:(e,t)=>{let{payload:r}=t;e.sorting=r},getNextPage:e=>{e.page+=1}},selectors:{error:e=>e.error,filter:i,filteredList:p,isLastPage:j,page:h,process:e=>e.process,searchString:d,sortedAmount:m,sorting:u,visibleList:g}})},5249:(e,t,r)=>{r.d(t,{Z:()=>l});var s=r(9868);const n="MrZaG7hyYelaQ8vGWZoJ";var a=r(5923);const l=e=>{let{className:t}=e;return(0,a.jsx)("div",{className:(0,s.cn)(n,t),role:"status",children:(0,a.jsx)("span",{className:"Spinner","aria-label":"Пожалуйста, подождите..."})})}},5703:(e,t,r)=>{var s=r(7747),n=r(4119),a=r(6187),l=r(5022),c=r(1250),o=r(3530),i=r(2284),d=r(1895),u=r(4336);const h=async()=>{const e=`/cs-reading-whitelist/data/link-list.json?${Date.now()}`;return(await fetch(e)).json()},p=function*(){try{const e=yield(0,d.T1)(h);yield(0,d.yJ)(u.x.actions.fetchSuccess(e.data))}catch(e){e instanceof Error&&(yield(0,d.yJ)(u.x.actions.fetchFailure(e)))}},x=function*(){yield(0,d.p8)(u.x.actions.fetchStart.type,p)},m=function*(){yield(0,d.Q7)([(0,d.T1)(x)])},g=(e,t)=>{const r=s.use(e);if(void 0===r)throw new Error(`Hook must be used within a ${e.displayName||t||"Context"}.Provider`);return r};var j=r(5923);const v=s.createContext(void 0);v.displayName="ThemeStateContext";const E=s.createContext(void 0);E.displayName="ThemeUpdaterContext";const f="ui-theme",y=()=>{const e=localStorage.getItem(f);return"light"===(t=e)||"dark"===t?e:"light";var t},N=e=>{let{children:t}=e;const[r,n]=s.useState(y);return(0,j.jsx)(v,{value:r,children:(0,j.jsx)(E,{value:n,children:t})})},C=()=>{const e=g(v);return s.useEffect((()=>{localStorage.setItem(f,e)}),[e]),"dark"===e},S="deE56uBxLpDdWEMR5o1P";class A extends s.Component{static getDerivedStateFromError(e){return{error:e}}state={error:null};render(){return this.state.error?(0,j.jsx)("p",{className:S,children:"Something went wrong in React app:("}):this.props.children}}var O=r(9868);const L="MRk1jMJQrUliPsKbN918",w="GuG5n249YtFKxeD7JTrO _2qsXrGSla5Oyhac1dBHU",b="vU5U0u7M_SVHkE3py5qG BT4pkluQgYyuho2E9pp1",P=[{legend:"GitHub",url:"https://github.com/yialo/cs-reading-whitelist"},{legend:"Twitter",url:"https://twitter.com/xarroalex"},{legend:"CodeSandbox",url:"https://codesandbox.io/u/yialo/sandboxes"},{legend:"CodePen",url:"https://codepen.io/yialo/pens/public?grid_type=list"}],k=()=>(0,j.jsx)("footer",{className:L,children:(0,j.jsx)("ul",{className:b,children:P.map(((e,t)=>{let{legend:r,url:s}=e;return(0,j.jsx)("li",{children:(0,j.jsx)("a",{className:w,href:s,children:r})},t)}))})});var T=r(7564),M=r(238),I=r(147);const D="XJuN53MTwvlmPH9hk0MY",U=e=>{let{className:t}=e;const r=C(),n=(()=>{const e=g(E);return s.useCallback((()=>{e((e=>"dark"===e?"light":"dark"))}),[e])})();return(0,j.jsx)(I.O,{className:(0,O.cn)(D,t),"aria-label":"Режим тёмной темы","aria-pressed":r,onClick:n,children:"Go "+(r?"light":"dark")})};r(6316),r(3842);const z="/",R="/stringer",H="i4Nk6p4lwT5YP1iPUZJY",G="fJ_IcJvPrGaiHeE21dpr",F="DV5hsaO1ZCxFvcV5xUxQ",V="PVF1YRrQC21TUhbLdsOg BT4pkluQgYyuho2E9pp1",q="xOgqMbfPzp8nNvaYrE15",Q="yd8O__02OIR09bXabyi2",Y=(0,j.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),J=(0,j.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),_=e=>{let{isExpanded:t}=e;return(0,j.jsxs)("svg",{"aria-hidden":"true",className:F,viewBox:"0 0 24 24",width:"100%",height:"100%",children:[(0,j.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),t?Y:J]})},B=[{url:z,label:"Reading"},{url:R,label:"Stringer"}],W=e=>{let{className:t}=e;const[r,n]=s.useState(!1);return s.useEffect((()=>{const e=e=>{e.key===a.au.ESCAPE&&n(!1)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[]),(0,j.jsxs)("nav",{className:(0,O.cn)(H,t,{isCollapsedScreenSm:!r}),children:[(0,j.jsx)("button",{"aria-haspopup":"listbox","aria-expanded":r,"aria-label":"Меню",className:G,type:"button",onClick:()=>{n((e=>!e))},children:(0,j.jsx)(_,{isExpanded:r})}),(0,j.jsx)("ul",{className:V,children:B.map((e=>{let{url:t,label:r}=e;return(0,j.jsx)("li",{children:(0,j.jsx)(c.k2,{className:e=>{let{isActive:t}=e;return(0,O.cn)(q,{[Q]:t})},to:t,end:!0,onClick:()=>{n(!1)},children:r})},r)}))})]})},Z="OWSKlLEmQamFRjDAF1fa",$="HjwMlnQIhuqoAj4gevvy",K="DpThcpwrwd6q9zUx5OHe",X="RP5bAxwSOlVjr1Tzrk7J",ee="iiyrIxar2gOcdSYOWUty",te="Vb2D8jC1FtXU80dCLNW0",re="qcIqNfA123_zDKxVMFpP",se=40,ne=60,ae=()=>document.querySelector(a.nr.APP_ROOT),le=e=>{let{className:t}=e;const[r,n]=s.useState(!1),[a,l]=s.useState(se),c=C(),o=s.useRef(document.createElement("div"));s.useEffect((()=>{const e=o.current;return document.body.appendChild(e),()=>{document.body.removeChild(e)}}),[]),s.useEffect((()=>{const e=ae();if(!(e instanceof HTMLDivElement))return;const t=(0,T.A)((()=>{const t=e.scrollTop>100;n(t);const r=e.scrollHeight-(e.scrollTop+e.offsetHeight)<ne;l(r?ne:se)}),25);return e.addEventListener("scroll",t),()=>{t.cancel(),e.removeEventListener("scroll",t)}}),[]);return(0,j.jsxs)("header",{className:(0,O.cn)(Z,{[$]:r},t),children:[(0,j.jsx)(W,{}),(0,j.jsx)(U,{className:K}),(()=>{const e=(0,j.jsx)("div",{className:X,style:{paddingBlockEnd:a},children:(0,j.jsx)(I.$,{"aria-label":"Вернуться наверх",className:(0,O.cn)(ee,{[re]:c,[te]:r}),disabled:!r,onClick:()=>{ae()?.scrollTo({top:0})}})});return(0,M.createPortal)(e,o.current)})()]})};var ce=r(7756);const oe="zJWgMIANVPxCHALEzFyC",ie="xtRtCnxkTVJin7lC8Fgd",de=()=>(0,j.jsxs)(ce.O,{children:[(0,j.jsx)("h1",{className:oe,children:"Error 404"}),(0,j.jsx)("p",{className:ie,children:"Page not found"})]}),ue=s.lazy((()=>r.e(454).then(r.bind(r,6216)))),he=s.lazy((()=>r.e(971).then(r.bind(r,9135))));var pe=r(5249);const xe=()=>(0,j.jsx)(s.Suspense,{fallback:(0,j.jsx)(pe.Z,{}),children:(0,j.jsxs)(c.BV,{children:[(0,j.jsx)(c.qh,{path:z,element:(0,j.jsx)(ue,{})}),(0,j.jsx)(c.qh,{path:R,element:(0,j.jsx)(he,{})}),(0,j.jsx)(c.qh,{path:"*",element:(0,j.jsx)(de,{})})]})}),me="eBfYoMUW6aZI0HeiClei",ge="IhUN0L7uhHwVlGtMCqOA",je=()=>{const{pathname:e}=(0,c.zy)(),t=(e=>{const t=s.useRef(void 0);return s.useEffect((()=>{t.current=e}),[e]),t.current})(e),r=C();return s.useEffect((()=>{const e=document.getElementById("page-overlay");e?.remove()}),[]),s.useEffect((()=>{const r=document.getElementById(a.nr.APP_ROOT);r&&e!==t&&r.scrollTo({top:0})}),[e,t]),(0,j.jsxs)("div",{className:(0,O.cn)(me,{hasDarkTheme:r}),children:[(0,j.jsx)(le,{className:ge}),(0,j.jsx)(xe,{}),(0,j.jsx)(k,{})]})},ve=(()=>{const e=(0,i.Ay)(),t=(0,o.U1)({reducer:{[u.x.reducerPath]:u.x.reducer},devTools:"production"!==a.Qy.PROD,middleware:t=>t({thunk:!1}).concat(e)});return e.run(m),t})(),Ee=()=>(0,j.jsx)(A,{children:(0,j.jsx)(l.Kq,{store:ve,children:(0,j.jsx)(c.I9,{children:(0,j.jsx)(N,{children:(0,j.jsx)(je,{})})})})});(()=>{const e=document.getElementById(a.nr.APP_ROOT);if(!e)return;const t=n.createRoot(e),r=(0,j.jsx)(s.StrictMode,{children:(0,j.jsx)(Ee,{})});t.render(r)})()},6187:(e,t,r)=>{r.d(t,{AM:()=>a,Qy:()=>s,au:()=>n,nr:()=>l});const s={DEV:"development",PROD:"production"},n={ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",UP:"ArrowUp",DOWN:"ArrowDown"},a={IDLE:"IDLE",LOADING:"LOADING",SUCCESS:"SUCCESS",FAILURE:"FAILURE"},l={APP_ROOT:"app-root"}},7756:(e,t,r)=>{r.d(t,{O:()=>a});const s="bSErT2sLLZ93ZTGIoAmg";var n=r(5923);const a=e=>{let{children:t}=e;return(0,n.jsx)("main",{className:s,children:t})}},9868:(e,t,r)=>{r.d(t,{cn:()=>s});const s=r(1750).$}},e=>{e.O(0,[524],(()=>{e.E(454),e.E(971)}),5);e.O(0,[644,96],(()=>{return t=5703,e(e.s=t);var t}));e.O()}]);