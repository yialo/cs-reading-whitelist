(self.webpackChunk=self.webpackChunk||[]).push([[143],{1952:(e,t,a)=>{"use strict";var r=a(8669),s=a(8682),l=a(2120),n=a(1620),c=a(9318),o=(a(2933),a(9189)),i=a(4609);const E="Vo5yrqTZ2QBPWs8Ks_v9m";class d extends r.Component{constructor(...e){super(...e),(0,i.Z)(this,"state",{error:null})}static getDerivedStateFromError(e){return{error:e}}render(){return this.state.error?r.createElement("p",{className:E},"Something went wrong in React app:("):this.props.children}}var m=a(2912);const u={error:null,list:[],isComplete:!1};var p=a(8040);const h={searchString:"",page:1,filterName:p.sd.CAPTION,sortingName:p.ae.NEW},g={isDark:!1},N=(0,c.UY)({fetch:(e,t)=>{const a=null!=e?e:u;switch(t.type){case m.a.FETCH.COMPLETE:return{...a,list:t.payload,isComplete:!0};case m.a.FETCH.ERROR:return{...a,error:t.payload,isComplete:!0};default:return a}},list:(e,t)=>{const a=null!=e?e:h;switch(t.type){case m.a.LIST.SEARCH:return{...a,page:1,searchString:t.payload};case m.a.LIST.FILTER_TOGGLE:return{...a,filterName:t.payload,page:1};case m.a.LIST.SORTING_TOGGLE:return{...a,sortingName:t.payload};case m.a.LIST.NEXT_PAGE:return{...a,page:a.page+1};default:return a}},theme:(e,t)=>{const a=null!=e?e:g;switch(t.type){case m.a.THEME.TOGGLE:return{...a,isDark:!a.isDark};default:return a}}});var v=a(4238),T=a.n(v),y=a(9633);const C=(0,r.lazy)((()=>a.e(639).then(a.bind(a,8580)))),S=(0,r.lazy)((()=>a.e(804).then(a.bind(a,278)))),L=()=>r.createElement(r.Suspense,{fallback:"Загружаем страницу..."},r.createElement(y.rs,null,r.createElement(y.AW,{path:p.Z6.HOME,exact:!0},r.createElement(C,null)),r.createElement(y.AW,{path:p.Z6.NAMING,exact:!0},r.createElement(S,null)),r.createElement(y.AW,null,r.createElement(y.l_,{to:p.Z6.HOME}))));var f=a(5704);const G="t89e7EVhS2aNpsCvkEC20",w="ZAe8xSDCYl49x3ZTAfrKa _2YRy5ZTdOji5EvHveiydPd",O="_3hcGTse5Dg_2O1h17Mfuop _1x1k1SAqtVpgY-dlVRUpwU",R=[{legend:"GitHub",url:"https://github.com/yialo/cs-reading-whitelist"},{legend:"Twitter",url:"https://twitter.com/xarroalex"},{legend:"CodeSandbox",url:"https://codesandbox.io/u/yialo/sandboxes"},{legend:"CodePen",url:"https://codepen.io/yialo/pens/public?grid_type=list"}],k=()=>r.createElement("footer",{className:G},r.createElement("ul",{className:O},R.map((({legend:e,url:t},a)=>r.createElement("li",{key:a},r.createElement("a",{className:w,href:t},e))))));var A=a(1435);const H="_166teuLEexhtFf46FJZc4Q",_="Qa-8ManAVgwz06DoZx8Sy",M="_2wMcmOSyCS6xUCHhyNkRgy",I="_1bBUBZWj6aWSnWO0P34Tsm _1x1k1SAqtVpgY-dlVRUpwU",P="i6c1Z6sKnGJ5ihjCYWDXE",b="_3dsi79x9hHaOZyvAGGXFPf",x=r.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),Z=r.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),D=({isExpanded:e})=>r.createElement("svg",{"aria-hidden":"true",className:M,viewBox:"0 0 24 24",width:"100%",height:"100%"},r.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),e?x:Z),F=[[p.Z6.HOME,"Reading"],[p.Z6.NAMING,"Naming"]],z="AppNavMenu-list",U=({className:e})=>{const[t,a]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const e=e=>{e.key===p.Ge.ESCAPE&&a((e=>e&&!e))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[]),r.createElement("nav",{className:T()(H,e,{isCollapsedScreenSm:!t})},r.createElement("button",{"aria-controls":z,"aria-expanded":t,"aria-label":"Меню",className:_,type:"button",onClick:()=>{a((e=>!e))}},r.createElement(D,{isExpanded:t})),r.createElement("ul",{className:I,id:z},F.map((([e,t])=>r.createElement("li",{key:t},r.createElement(n.OL,{activeClassName:b,className:P,to:e,exact:!0},t))))))};var j=a(9049);const W="uC7slNcg8lSR9_yFtYoZP",X=({className:e,isDark:t,onToggle:a})=>r.createElement(j.c,{className:T()(W,e),"aria-label":`Перейти к ${t?"светлой":"тёмной"} теме`,onClick:a},"Go "+(t?"light":"dark")),V="_34aayqzjuUEWXEiPrt9USY",Y="_2nkkaeRzJ9Mtw5LkpX6U2g",B=({className:e})=>{const t=(0,l.v9)(f.FS.isDark),a=(0,l.I0)();return r.createElement("header",{className:T()(V,e)},r.createElement(U,null),r.createElement(X,{className:Y,isDark:t,onToggle:()=>{a((0,A.X8)())}}))},q="dEe8ERd6tJ5nNCjCwCvFw",J="_10T-8t1zqNGGZEbBei-Ial",K=()=>{const e=(0,l.v9)(f.FS.isDark);return(0,r.useEffect)((()=>{(()=>{const e=document.getElementById("overlay");null==e||e.classList.add("isHidden")})()}),[]),r.createElement("div",{className:T()(q,{hasDarkTheme:e})},r.createElement(B,{className:J}),r.createElement(L,null),r.createElement(k,null))},Q=(0,c.md)(o.Z),$=(0,c.MT)(N,Q),ee=()=>r.createElement(r.StrictMode,null,r.createElement(d,null,r.createElement(l.zt,{store:$},r.createElement(n.UT,null,r.createElement(K,null)))));(()=>{const e=document.getElementById("app-root");s.render(r.createElement(ee,null),e)})()},2912:(e,t,a)=>{"use strict";a.d(t,{a:()=>r});const r={FETCH:{COMPLETE:"fetch:complete",ERROR:"fetch:error"},LIST:{SEARCH:"list:search",FILTER_TOGGLE:"list:filter-toggle",SORTING_TOGGLE:"list:sorting-toggle",NEXT_PAGE:"list:next-page"},THEME:{TOGGLE:"theme:toggle"}}},3907:(e,t,a)=>{"use strict";a.d(t,{z:()=>i});var r=a(9595),s=a(8669),l=a(4238),n=a.n(l);const c="_1iS_k3KGDGTjLeEP7Q0j5-",o=({children:e,className:t,forwardedRef:a,type:l="button",...o})=>s.createElement("button",(0,r.Z)({ref:a,className:n()(c,t),type:l},o),e),i=(0,s.forwardRef)(((e,t)=>s.createElement(o,(0,r.Z)({},e,{forwardedRef:t}))));i.displayName="Button"},9049:(e,t,a)=>{"use strict";a.d(t,{c:()=>i});var r=a(9595),s=a(8669),l=a(4238),n=a.n(l),c=a(3907);const o="_1jV8VblGe9e6XqdrXFRMUw",i=({className:e,...t})=>s.createElement(c.z,(0,r.Z)({className:n()(o,e)},t))},8040:(e,t,a)=>{"use strict";a.d(t,{Ge:()=>l,sd:()=>n,ae:()=>c,Z6:()=>o,v9:()=>d});var r=a(585),s=a.n(r);const l={ENTER:"Enter",ESCAPE:"Escape",SPACE:" "};let n,c;!function(e){e.CAPTION="caption",e.HASHTAG="hashtag",e.URL="url"}(n||(n={})),function(e){e.NEW="new",e.OLD="old"}(c||(c={}));const o=(i={HOME:"",NAMING:"naming"},s()(E=Object.entries(i)).call(E,((e,[t,a])=>(e[t]=`/cs-reading-whitelist/${a}`,e)),{}));var i,E;const d=10},1435:(e,t,a)=>{"use strict";a.d(t,{vN:()=>s,cT:()=>l,nY:()=>n,Sg:()=>c,X8:()=>o,O8:()=>i});var r=a(2912);const s=e=>({type:r.a.LIST.SEARCH,payload:e}),l=e=>({type:r.a.LIST.FILTER_TOGGLE,payload:e}),n=e=>({type:r.a.LIST.SORTING_TOGGLE,payload:e}),c=()=>({type:r.a.LIST.NEXT_PAGE}),o=()=>({type:r.a.THEME.TOGGLE}),i=()=>async e=>{const t=`/cs-reading-whitelist/response/subjects.json?${Date.now()}`;try{const a=await window.fetch(t),{data:s}=await a.json();e({type:r.a.FETCH.COMPLETE,payload:s})}catch(t){e({type:r.a.FETCH.ERROR,payload:t})}}},5704:(e,t,a)=>{"use strict";a.d(t,{mM:()=>l,gL:()=>n,FS:()=>c,it:()=>E,vs:()=>d,L6:()=>m});var r=a(1503),s=a(8040);const l={error:e=>e.fetch.error,fullList:e=>e.fetch.list,isComplete:e=>e.fetch.isComplete},n={filterName:e=>e.list.filterName,page:e=>e.list.page,searchString:e=>e.list.searchString,sortingName:e=>e.list.sortingName},c={isDark:e=>e.theme.isDark},o=(0,r.P1)([l.fullList,n.searchString,n.filterName],((e,t,a)=>{const r=t.toLowerCase();return""===r?e:e.filter((e=>{switch(a){case s.sd.CAPTION:var t;return e.caption.toLowerCase().includes(r)||(null===(t=e.series)||void 0===t?void 0:t.some((e=>e.caption.toLowerCase().includes(r))));case s.sd.HASHTAG:var l;return e.tags.some((e=>e.toLowerCase().includes(r)))||(null===(l=e.series)||void 0===l?void 0:l.some((e=>{var t;return null===(t=e.tags)||void 0===t?void 0:t.some((e=>e.toLowerCase().includes(r)))})));case s.sd.URL:var n,c;return(null===(n=e.url)||void 0===n?void 0:n.toLowerCase().includes(r))||(null===(c=e.series)||void 0===c?void 0:c.some((e=>e.url.toLowerCase().includes(r))));default:return!0}}))})),i=(0,r.P1)([o,n.sortingName,n.page],((e,t)=>t===s.ae.NEW?[...e].reverse():e)),E=(0,r.P1)([i],(e=>e.length)),d=(0,r.P1)([i,n.page],((e,t)=>{const a=t*s.v9;return e.slice(0,a)})),m=(0,r.P1)([E,n.page],((e,t)=>t===Math.ceil(e/s.v9)))}},e=>{"use strict";e.O(0,[143],(()=>(e.E(639),e.E(804))),5);var t=t=>e(e.s=t);e.O(0,[427,216],(()=>(t(3084),t(1952))));e.O()}]);