!function(e){function t(t){for(var r,l,c=t[0],o=t[1],s=t[2],f=0,p=[];f<c.length;f++)l=c[f],Object.prototype.hasOwnProperty.call(a,l)&&a[l]&&p.push(a[l][0]),a[l]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);for(u&&u(t);p.length;)p.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var o=n[c];0!==a[o]&&(r=!1)}r&&(i.splice(t--,1),e=l(l.s=n[0]))}return e}var r={},a={0:0},i=[];function l(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=r,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(n,r,function(t){return e[t]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="https://yialo.github.io/cs-reading-whitelist/";var c=window.webpackJsonp=window.webpackJsonp||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=o;i.push([313,1]),n()}({143:function(e,t,n){},313:function(e,t,n){"use strict";n.r(t);n(142),n(143),n.p,n.p,n.p,n.p;var r=n(0),a=n.n(r),i=n(57),l=n.n(i),c=n(58),o=n(61),s=n(59),u=n.n(s),f=n(60),p=n.n(f),g=n(32),d=n.n(g),m=n(33),h=n.n(m),b=n(29),v=n.n(b),E=n(34),_=n.n(E),y=n(45),j=n.n(y),S=n(25),T=n.n(S),N=n(18),L=n.n(N),F=(n(197),n(202),n(30)),O=n.n(F),R=n(138),w=n.n(R),C=n(31),q=n.n(C),x=n(1),M=n.n(x),P=n(139),k=n.n(P),D=n(140),I=n.n(D);n(296);function J(e){var t,n=e.classNames,r=e.inputMode,i=e.legend,l=e.onChange,c=e.value;return a.a.createElement("label",{className:q()(t=["text-input"]).call(t,n).join(" "),"aria-label":i},a.a.createElement("input",{className:"s_input text-input__field",onChange:l,type:"text",inputMode:r,value:c}))}J.defaultProps={classNames:[]},J.propTypes={classNames:M.a.oneOfType([M.a.arrayOf(M.a.string),M.a.string]),inputMode:M.a.string.isRequired,legend:M.a.string.isRequired,onChange:M.a.func.isRequired,value:M.a.string.isRequired};var U=J,A={caption:"заголовок",hashtag:"хэштег"};function B(e){var t,n=e.filterTarget,r=e.onFilterToggle,i=e.onSearch,l=e.searchString;return a.a.createElement("form",{className:"control-bar page__filter",onSubmit:function(e){e.preventDefault()}},a.a.createElement("div",{className:"filter control-bar__filter"},a.a.createElement("p",{className:"filter__tip"},"Тип сортировки:"),a.a.createElement("div",{className:"filter__controls"},O()(t=I()(A)).call(t,(function(e,t){var i,l=k()(e,2),c=l[0],o=l[1],s=n===c;return a.a.createElement("button",{key:q()(i="".concat(c,"-")).call(i,t+1),className:"s_button filter__control",type:"button",disabled:s,onClick:function(){r(c)}},o)})))),a.a.createElement("p",{className:"control-bar__searchbar"},a.a.createElement(U,{onChange:i,inputMode:"search",legend:"Введите текст для поиска",value:l})))}B.propTypes={filterTarget:M.a.string.isRequired,onFilterToggle:M.a.func.isRequired,onSearch:M.a.func.isRequired,searchString:M.a.string.isRequired};var G=B;function H(e){return a.a.createElement("p",{className:"subjects__fallback-message"},e.message)}H.propTypes={message:M.a.string.isRequired};var W=H;var z=function(){return a.a.createElement("div",{className:"subjects__preloader",role:"status"},a.a.createElement("span",{className:"spinner","aria-label":"Пожалуйста, подождите..."}))};function K(e){var t=e.caption,n=e.lang,r=e.legend,i=e.tags,l=e.url;return(a.a.createElement("li",{className:"subjects__item"},a.a.createElement("a",{className:"subjects__link",href:l,lang:n},t)," ",a.a.createElement("span",{className:"subjects__lang-badge subjects__lang-badge--".concat(n)},n),r?" - ".concat(r):"",a.a.createElement("ul",{className:"s_list subjects__tags"},O()(i).call(i,(function(e,t){return a.a.createElement("li",{className:"subjects__tag",key:t}," #".concat(e))})))))}K.defaultProps={legend:"",tags:[]},K.propTypes={caption:M.a.string.isRequired,lang:M.a.string.isRequired,legend:M.a.string,tags:M.a.arrayOf(M.a.string),url:M.a.string.isRequired};var Q=K;function V(e){var t=e.fetchError,n=e.filterName,i=e.filteredList,l=e.isFetchComplete,c=e.searchString,o=e.subjectList,s=e.onFetchComplete,u=e.onFetchError,f=e.onFilterToggle,p=e.onSearch;function g(e){var t=e.target.value;p(t,o,n)}return Object(r.useEffect)((function(){var e,t=q()(e="".concat("https://yialo.github.io/cs-reading-whitelist/","response/subjects.json?")).call(e,w()());window.fetch(t).then((function(e){return e.json()})).then((function(e){s(e.data)})).catch((function(e){u(e)}))}),[]),a.a.createElement("main",{className:"page__content"},a.a.createElement("h1",{className:"page__heading",lang:"en"},"Computer Science Reading Whitelist"),l?a.a.createElement(a.a.Fragment,null,a.a.createElement(G,{filterTarget:n,onFilterToggle:function(e){f(c,o,e)},onSearch:g,searchString:c}),a.a.createElement("div",{className:"subjects page__subjects"},t?a.a.createElement(W,{message:"Ошибка загрузки"}):i.length>0?a.a.createElement("ul",{className:"s_list subjects__list"},O()(i).call(i,(function(e){return a.a.createElement(Q,{key:e.url,caption:e.caption,lang:e.lang,legend:e.legend,tags:e.tags,url:e.url})}))):a.a.createElement(W,{message:"Ничего не найдено"}))):a.a.createElement(z,null))}V.defaultProps={fetchError:null,filteredList:[],subjectList:[]},V.propTypes={fetchError:M.a.instanceOf(Error),filterName:M.a.oneOf(["caption","hashtag"]).isRequired,filteredList:M.a.arrayOf(M.a.object),isFetchComplete:M.a.bool.isRequired,searchString:M.a.string.isRequired,subjectList:M.a.arrayOf(M.a.object),onFetchComplete:M.a.func.isRequired,onFetchError:M.a.func.isRequired,onFilterToggle:M.a.func.isRequired,onSearch:M.a.func.isRequired};var X,Y=V,Z=(n(298),n(136),n(303),n(304),n(141)),$=n.n(Z),ee="FILTER_LIST",te="TOGGLE_FILTER",ne="SUBJECTS_FETCH_COMPLETE",re="SUBJECTS_FETCH_ERROR",ae=function(e,t,n){return""===e?t:v()(t).call(t,(function(t){var r,a=new RegExp(e,"gi");switch(n){case"caption":return t.caption.match(a);case"hashtag":return $()(r=t.tags).call(r,(function(e){return e.match(a)}));default:return!0}}))},ie={filterList:function(e,t,n){var r=ae(e,t,n);return{type:ee,payload:{filteredList:r,textToSearch:e}}},toggleFilter:function(e,t,n){var r=ae(e,t,n);return{type:te,payload:{filterName:n,filteredList:r,textToSearch:e}}},showSubjectsList:function(e){return{type:ne,payload:e}},showFetchError:function(e){return{type:re,payload:e}}};function le(e,t){var n=j()(e);if(_.a){var r=_()(e);t&&(r=v()(r).call(r,(function(t){return h()(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)T()(n=le(Object(r),!0)).call(n,(function(t){L()(e,t,r[t])}));else if(d.a)p()(e,d()(r));else{var a;T()(a=le(Object(r))).call(a,(function(t){u()(e,t,h()(r,t))}))}}return e}var oe={fetchError:null,filterName:"caption",filteredList:[],isFetchComplete:!1,searchString:"",subjectList:[]},se=(X={},L()(X,ee,(function(e,t){return ce({},e,{filteredList:t.filteredList,searchString:t.textToSearch})})),L()(X,te,(function(e,t){return ce({},e,{filterName:t.filterName,filteredList:t.filteredList,textToSearch:t.textToSearch})})),L()(X,ne,(function(e,t){return ce({},e,{filteredList:t,subjectList:t,isFetchComplete:!0})})),L()(X,re,(function(e,t){return ce({},e,{fetchError:t,isFetchComplete:!0})})),L()(X,"DEFAULT",(function(e){return e})),X),ue=function(e,t){var n;return(null!==(n=se[t.type])&&void 0!==n?n:se.DEFAULT)(e,t.payload)};function fe(e,t){var n=j()(e);if(_.a){var r=_()(e);t&&(r=v()(r).call(r,(function(t){return h()(e,t).enumerable}))),n.push.apply(n,r)}return n}var pe=Object(o.b)((function(e,t){var n,r=function(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)T()(n=fe(Object(r),!0)).call(n,(function(t){L()(e,t,r[t])}));else if(d.a)p()(e,d()(r));else{var a;T()(a=fe(Object(r))).call(a,(function(t){u()(e,t,h()(r,t))}))}}return e}({},t);return T()(n=j()(oe)).call(n,(function(t){r[t]=e[t]})),r}),(function(e){return{onFilterToggle:function(){e(ie.toggleFilter.apply(ie,arguments))},onFetchComplete:function(t){e(ie.showSubjectsList(t))},onFetchError:function(t){e(ie.showFetchError(t))},onSearch:function(){e(ie.filterList.apply(ie,arguments))}}}))(Y);pe.displayName="connected(App)";var ge=pe;function de(){var e=[ue,oe];var t=c.b.apply(void 0,e);return(a.a.createElement(o.a,{store:t},a.a.createElement(ge,null)))}de.displayName="withStore(".concat(ge.displayName,")");var me=de;document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("app-root"),t=a.a.createElement(a.a.StrictMode,null,a.a.createElement(me,null));l.a.render(t,e)}))}});