!function(e){function t(t){for(var r,l,c=t[0],s=t[1],o=t[2],f=0,p=[];f<c.length;f++)l=c[f],Object.prototype.hasOwnProperty.call(a,l)&&a[l]&&p.push(a[l][0]),a[l]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(u&&u(t);p.length;)p.shift()();return i.push.apply(i,o||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(r=!1)}r&&(i.splice(t--,1),e=l(l.s=n[0]))}return e}var r={},a={0:0},i=[];function l(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=r,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(n,r,function(t){return e[t]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="https://yialo.github.io/cs-reading-whitelist/";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var o=0;o<c.length;o++)t(c[o]);var u=s;i.push([370,1]),n()}({179:function(e,t,n){},370:function(e,t,n){"use strict";n.r(t);n(178),n(179),n.p,n.p,n.p,n.p;var r=n(0),a=n.n(r),i=n(70),l=n.n(i),c=n(74),s=n(36),o=(n(188),n(168)),u=n(71),f=n.n(u),p=n(72),d=n.n(p),g=n(39),m=n.n(g),h=n(40),v=n.n(h),b=n(41),y=n.n(b),E=n(37),_=n.n(E),j=n(42),S=n.n(j),O=n(73),N=n.n(O),R=n(13),T=n.n(R),L=n(1),F=n.n(L),w=n(23),q=n.n(w),C=n(169),x=n.n(C),k=n(170),M=n.n(k),P=n(38),D=n.n(P);n(285);function A(e){var t,n=e.classNames,r=e.inputMode,i=e.legend,l=e.onChange,c=e.value;return a.a.createElement("label",{className:q()(t=["text-input"]).call(t,n).join(" "),"aria-label":i},a.a.createElement("input",{className:"s_input text-input__field",onChange:l,type:"text",inputMode:r,value:c}))}A.defaultProps={classNames:[]},A.propTypes={classNames:F.a.oneOfType([F.a.arrayOf(F.a.string),F.a.string]),inputMode:F.a.string.isRequired,legend:F.a.string.isRequired,onChange:F.a.func.isRequired,value:F.a.string.isRequired};var B=A,I={caption:"заголовок",hashtag:"хэштег"};function J(e){var t,n=e.filterTarget,r=e.onFilterToggle,i=e.onSearch,l=e.searchString;return a.a.createElement("form",{className:"control-bar page__filter",onSubmit:function(e){e.preventDefault()}},a.a.createElement("div",{className:"filter control-bar__filter"},a.a.createElement("p",{className:"filter__tip"},"Тип сортировки:"),a.a.createElement("div",{className:"filter__controls"},D()(t=M()(I)).call(t,(function(e,t){var i,l=x()(e,2),c=l[0],s=l[1],o=n===c;return a.a.createElement("button",{key:q()(i="".concat(c,"-")).call(i,t+1),className:"s_button filter__control",disabled:o,type:"button",onClick:function(){r(c)}},s)})))),a.a.createElement("p",{className:"control-bar__searchbar"},a.a.createElement(B,{inputMode:"search",legend:"Введите текст для поиска",value:l,onChange:i})))}J.propTypes={filterTarget:F.a.string.isRequired,onFilterToggle:F.a.func.isRequired,onSearch:F.a.func.isRequired,searchString:F.a.string.isRequired};var U=J;function H(e){var t=e.message;return(a.a.createElement("p",{className:"subjects__fallback-message"},t))}H.propTypes={message:F.a.string.isRequired};var G=H;var W=function(){return a.a.createElement("div",{className:"subjects__preloader",role:"status"},a.a.createElement("span",{className:"spinner","aria-label":"Пожалуйста, подождите..."}))};function z(e){var t=e.caption,n=e.lang,r=e.legend,i=e.tags,l=e.url;return(a.a.createElement("li",{className:"subjects__item"},a.a.createElement("a",{className:"subjects__link",href:l,lang:n},t)," ",a.a.createElement("span",{className:"subjects__lang-badge subjects__lang-badge--".concat(n)},n),r?" - ".concat(r):"",a.a.createElement("ul",{className:"s_list subjects__tags"},D()(i).call(i,(function(e,t){return a.a.createElement("li",{className:"subjects__tag",key:t}," #".concat(e))})))))}z.defaultProps={legend:"",tags:[]},z.propTypes={caption:F.a.string.isRequired,lang:F.a.string.isRequired,legend:F.a.string,tags:F.a.arrayOf(F.a.string),url:F.a.string.isRequired};var K=z;function Q(e){var t=e.list;return t.length>0?a.a.createElement("ul",{className:"s_list subjects__list"},D()(t).call(t,(function(e){return a.a.createElement(K,{key:e.url,caption:e.caption,lang:e.lang,legend:e.legend,tags:e.tags,url:e.url})}))):a.a.createElement(G,{message:"Ничего не найдено"})}Q.propTypes={list:F.a.arrayOf(F.a.object).isRequired};var V=Q;function X(e){var t=e.fetchError,n=e.filterName,i=e.filteredList,l=e.searchString,c=e.isFetchComplete,s=e.onFetchStart,o=e.onFilterToggle,u=e.onSearch,f=Object(r.useCallback)((function(e){u(e.target.value)}),[]);return Object(r.useEffect)((function(){document.getElementById("overlay").classList.add("js_hidden"),s()}),[]),a.a.createElement("main",{className:"page__content"},a.a.createElement("h1",{className:"page__heading",lang:"en"},"Computer Science Reading Whitelist"),c?a.a.createElement(a.a.Fragment,null,a.a.createElement(U,{filterTarget:n,searchString:l,onFilterToggle:o,onSearch:f}),a.a.createElement("div",{className:"subjects page__subjects"},t?a.a.createElement(G,{message:"Ошибка загрузки"}):a.a.createElement(V,{list:i}))):a.a.createElement(W,null))}X.defaultProps={fetchError:null,filteredList:[]},X.propTypes={fetchError:F.a.instanceOf(Error),filterName:F.a.oneOf(["caption","hashtag"]).isRequired,filteredList:F.a.arrayOf(F.a.object),isFetchComplete:F.a.bool.isRequired,searchString:F.a.string.isRequired,onFetchStart:F.a.func.isRequired,onFilterToggle:F.a.func.isRequired,onSearch:F.a.func.isRequired};var Y=X,Z=(n(147),n(300),n(106)),$=n.n(Z),ee=n(171),te=n.n(ee),ne=(n(321),n(172)),re=n.n(ne),ae="FILTER_SEARCH",ie="FILTER_TOGGLE",le="SUBJECTS_FETCH_COMPLETE",ce="SUBJECTS_FETCH_ERROR",se=(n(336),n(164),n(165),n(341),n(173)),oe=n.n(se),ue=function(e,t,n){return""===e?t:_()(t).call(t,(function(t){var r,a=new RegExp(e,"gi");switch(n){case"caption":return t.caption.match(a);case"hashtag":return oe()(r=t.tags).call(r,(function(e){return e.match(a)}));default:return!0}}))};function fe(e,t){var n=N()(e);if(S.a){var r=S()(e);t&&(r=_()(r).call(r,(function(t){return y()(e,t).enumerable}))),n.push.apply(n,r)}return n}var pe={onFetchStart:function(){return function(){var e=re()($.a.mark((function e(t){var n,r,a,i,l;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=q()(n="".concat("https://yialo.github.io/cs-reading-whitelist/","response/subjects.json?")).call(n,te()()),e.prev=1,e.next=4,window.fetch(r);case 4:return a=e.sent,e.next=7,a.json();case 7:i=e.sent,l=i.data,t({type:le,payload:l}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t({type:ce,payload:e.t0});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},onFilterToggle:function(e){return function(t,n){var r=n(),a=r.searchString,i=r.subjectList,l=ue(a,i,e);t({type:ie,payload:{filterName:e,filteredList:l}})}},onSearch:function(e){return function(t,n){var r=n(),a=r.filterName,i=r.subjectList,l=ue(e,i,a);t({type:ae,payload:{filteredList:l,searchString:e}})}}},de=Object(c.b)((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)v()(n=fe(Object(r),!0)).call(n,(function(t){T()(e,t,r[t])}));else if(m.a)d()(e,m()(r));else{var a;v()(a=fe(Object(r))).call(a,(function(t){f()(e,t,y()(r,t))}))}}return e}({},t,{},e)}),pe)(Y),ge=n(58),me=n.n(ge),he=n(174),ve=n.n(he),be=n(175),ye=n.n(be),Ee=n(103),_e=n.n(Ee),je=n(176),Se=n.n(je),Oe=n(177),Ne=n.n(Oe),Re=n(107),Te=n.n(Re);function Le(){if("undefined"==typeof Reflect||!me.a)return!1;if(me.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(me()(Date,[],(function(){}))),!0}catch(e){return!1}}var Fe,we=function(e){Se()(r,e);var t,n=(t=r,function(){var e,n=Te()(t);if(Le()){var r=Te()(this).constructor;e=me()(n,arguments,r)}else e=n.apply(this,arguments);return Ne()(this,e)});function r(){var e,t;ve()(this,r);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return t=n.call.apply(n,q()(e=[this]).call(e,i)),T()(_e()(t),"state",{error:null}),t}return ye()(r,[{key:"render",value:function(){return this.state.error?a.a.createElement("p",null,"Something went wrong in React app:("):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),r}(a.a.Component);function qe(e,t){var n=N()(e);if(S.a){var r=S()(e);t&&(r=_()(r).call(r,(function(t){return y()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)v()(n=qe(Object(r),!0)).call(n,(function(t){T()(e,t,r[t])}));else if(m.a)d()(e,m()(r));else{var a;v()(a=qe(Object(r))).call(a,(function(t){f()(e,t,y()(r,t))}))}}return e}T()(we,"propTypes",{children:F.a.node.isRequired});var xe={fetchError:null,filteredList:[],filterName:"caption",searchString:"",subjectList:[],isFetchComplete:!1},ke=(Fe={},T()(Fe,ae,(function(e,t){return Ce({},e,{filteredList:t.filteredList,searchString:t.searchString})})),T()(Fe,ie,(function(e,t){return Ce({},e,{filterName:t.filterName,filteredList:t.filteredList})})),T()(Fe,le,(function(e,t){return Ce({},e,{filteredList:t,subjectList:t,isFetchComplete:!0})})),T()(Fe,ce,(function(e,t){return Ce({},e,{fetchError:t,isFetchComplete:!0})})),T()(Fe,"DEFAULT",(function(e){return e})),Fe),Me=function(e,t){var n,r=null!=e?e:xe;return(null!==(n=ke[t.type])&&void 0!==n?n:ke.DEFAULT)(r,t.payload)};document.addEventListener("DOMContentLoaded",(function(){var e=Object(s.applyMiddleware)(o.a),t=Object(s.createStore)(Me,e),n=a.a.createElement(a.a.StrictMode,null,a.a.createElement(we,null,a.a.createElement(c.a,{store:t},a.a.createElement(de,null)))),r=document.getElementById("app-root");l.a.render(n,r)}))}});